#==============================================================================
# PRIMARY GLOBAL MESH
#==============================================================================
[namelist:base_mesh]
compulsory=true
description=Provides information to define the LFRic infrastructure principle mesh.
help=Lfric must use at least one mesh (prime) to run.
    =This panel specifies details of the mesh and it's configuration.
ns=namelist/base_mesh
sort-key=sec-AAA
title=Primary mesh


[namelist:base_mesh=filename]
compulsory=true
description=??????
help=UGrid file holding horizontal mesh
!string_length=filename
sort-key=AA-001
type=character


[namelist:base_mesh=prime_mesh_name]
compulsory=true
description=Tag-name for prime-mesh
help=??????
    =??????
sort-key=
!string_length=default
type=character


[namelist:base_mesh=geometry]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=AA-002
values='planar', 'spherical'
value-titles=Planar, Spherical
!trigger=namelist:orography_agnesi_cartesian:   'planar' ;
        =namelist:orography_schar_cartesian:    'planar' ;
        =namelist:orography_bell_cartesian:     'planar' ;
        =namelist:domain_size:                  'planar' ;
        =namelist:biperiodic_deppt:             'planar' ;
        =namelist:orography_agnesi_spherical:   'spherical' ;
        =namelist:orography_schar_spherical:    'spherical' ;
        =namelist:orography_dcmip200_spherical: 'spherical' ;


[namelist:base_mesh=partitioner]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=AA-003
values='planar', 'cubedsphere'
value-titles=Planar, Cubedsphere


[namelist:base_mesh=fplane]
compulsory=true
description=??????
fail-if=this == true and namelist:base_mesh=geometry == "'spherical'"
help=Plane has constant f (omega)
    =fplane can not be true when nature = spherical
!kind=default
sort-key=AA-004
type=logical



[namelist:base_mesh=f_lat_deg]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=AA-005
type=real


[!namelist:base_mesh=f_lat]
description=Latitude for F-plane
           =approximation [rad].
expression=namelist:base_mesh=f_lat_deg * source:constants_mod=PI / 180.0_r_def
help=Pre-set latitude for F-plane approximation [Radians]. The F-plane approximation
    =is use to calculate the Coriolis operator, where the Coriolis parameter, f, is
    =assumed to be invariant with latitude.
    =
!kind=default
ns=namelist/base_mesh
sort-key=ZA-001
type=real


#==============================================================================
# FINITE ELEMENT
#==============================================================================
[namelist:finite_element]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/base_mesh/finite_element
sort-key=sec-ABA
title=Finite element


[namelist:finite_element=cellshape]
compulsory=true
description=??????
!enumeration=true
fail-if=this != "'quadrilateral'";
help=??????
    =??????
sort-key=
values='triangle', 'quadrilateral'
value-titles=Triangluar, Quadrilateral


[namelist:finite_element=element_order]
compulsory=true
description=??????
help=Order of the function space
!kind=default
range=0:
sort-key=
type=integer


[namelist:finite_element=coordinate_order]
compulsory=true
description=??????
help=Order of the coordinate space
!kind=default
type=integer


[namelist:finite_element=rehabilitate]
compulsory=true
description=??????
help=Rehabilitation is the modification of mapping for
    =the W3 space and the divergence mapping so that
    =the correct order of accuracy is maintained on
    =non-affine elements. For affine elements it is not
    =required. This is included here as in the future
    =we wish to move to not rehabiliating
!kind=default
sort-key=
type=logical


[namelist:finite_element=supg]
compulsory=true
description=??????
help=Use Streamline-Upwind-Petrov-Galerkin method for
    =stabilisation of CG advection
!kind=default
sort-key=
type=logical


[namelist:finite_element=vorticity_in_w1]
compulsory=true
description=??????
help=Compute the vorticity in W1 (or implied W2) space
!kind=default
sort-key=
type=logical




#==============================================================================
# PLANAR MESH DOMAIN SIZE
#==============================================================================
[namelist:domain_size]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/base_mesh/domain_size
sort-key=sec-ACA
title=Domain size (Planar)


[namelist:domain_size=planar_domain_min_x]
compulsory=true
description=??????
help=Minimum global x value of planar domain
!kind=default
sort-key=
type=real


[namelist:domain_size=planar_domain_max_x]
compulsory=true
description=??????
help=Maximum global x value of planar domain
!kind=default
sort-key=
type=real


[namelist:domain_size=planar_domain_min_y]
compulsory=true
description=??????
help=Minimum global y value of planar domain
!kind=default
sort-key=
type=real


[namelist:domain_size=planar_domain_max_y]
compulsory=true
description=??????
help=Maximum global y value of planar domain
!kind=default
sort-key=
type=real




#==============================================================================
# GLOBAL MESH PARTITIONING
#==============================================================================
[namelist:partitioning]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/base_mesh/partitioning
sort-key=sec-ADA
title=Mesh partitioning

[namelist:partitioning=auto]
compulsory=true
description=??????
help=Partitioner will ignore xproc, yproc info and will attempt to generate square partitions
!kind=default
sort-key=
type=logical


[namelist:partitioning=panel_xproc]
compulsory=true
description=??????
help=Number of partitions to generate across the x-direction of a panel of the mesh
!kind=default
sort-key=
type=integer

[namelist:partitioning=panel_yproc]
compulsory=true
description=??????
help=Number of partitions to generate across the y-direction of a panel of the mesh
!kind=default
sort-key=
type=integer




#==============================================================================
# 2D MESH EXTRUSION
#==============================================================================
[namelist:extrusion]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/base_mesh/extrusion
sort-key=sec-AEA
title=Mesh extrusion


[namelist:extrusion=method]
compulsory=true
description=??????
!enumeration=true
help=Geometric grid spacing with
    =stretching factor prescribed.
    =DCMIP grid spacing (DCMIP document, Appendix F.2.) with flattening parameter prescribed.
sort-key=
values='uniform', 'quadratic', 'geometric', 'dcmip'
value-titles=Uniform, Quadratic, Geometric, DCMIP


[namelist:extrusion=domain_top]
compulsory=true
description=??????
help=Domain height
!kind=default
sort-key=
type=real


[namelist:extrusion=number_of_layers]
compulsory=true
description=??????
help=Number of layers in the vertical
!kind=default
range=1:
sort-key=
type=integer




#==============================================================================
# PLANET
#==============================================================================
[namelist:planet]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet
sort-key=sec-BAA
title=Planet


[namelist:planet=gravity]
compulsory=true
description=??????
help=Surface equatorial value of gravity [m/s^2]
!kind=default
sort-key=AA-001
type=real


[namelist:planet=radius]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=AA-002
type=real


[namelist:planet=omega]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=AA-003
type=real


[namelist:planet=rd]
compulsory=true
description=??????
help=Gas constant for dry air [J/(kg K)]
!kind=default
sort-key=AA-004
type=real


[namelist:planet=cp]
compulsory=true
description=??????
help=Specific heat of dry air at constant pressure [J/(kg K)]
!kind=default
sort-key=AA-005
type=real


[namelist:planet=p_zero]
compulsory=true
description=??????
help=Reference surface pressure [Pa]
!kind=default
sort-key=AA-006
type=real


[namelist:planet=scaling_factor]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=AA-007
type=real


[!namelist:planet=cv]
compulsory=false
expression=namelist:planet=cp - namelist:planet=rd
help=Specific heat of dry air at constant volume [J/(kg K)]
!kind=default
ns=namelist/planet
sort-key=ZA-001
type=real


[!namelist:planet=kappa]
compulsory=false
expression=namelist:planet=rd / namelist:planet=cp
help=Ratio of Rd and Cp [dimensionless]
!kind=default
ns=namelist/planet
sort-key=ZA-002
type=real


[!namelist:planet=scaled_omega]
compulsory=false
expression=namelist:planet=omega * namelist:planet=scaling_factor
help=??????
    =??????
!kind=default
ns=namelist/planet
sort-key=ZA-003
type=real


[!namelist:planet=scaled_radius]
compulsory=false
expression=namelist:planet=radius / namelist:planet=scaling_factor
help=??????
    =??????
!kind=default
ns=namelist/planet
sort-key=ZA-004
type=real




#==============================================================================
# OROGRAPHY
#==============================================================================
[namelist:orography]
description=??????
help=??????
    =??????
ns=namelist/planet/orography
sort-key=sec-BBA
title=Orography


[namelist:orography=profile]
compulsory=true
description=??????
!enumeration=true
help=none : No orography (flat surface)
    =schar : Schar mountain profile
    =agnesi : Witch-of-Agnesi mountain profile
    =dcmip200 : DCMIP 2.0.0 mountain profile
    =bell : Bell-shaped mountain profile
sort-key=
values='none', 'schar', 'agnesi', 'dcmip200','bell'
value-titles=None, Schar, Agnesi, DCMIP 2.0.0, Bell-shaped
!trigger=namelist:orography_agnesi_cartesian:   'agnesi'   ;
        =namelist:orography_agnesi_spherical:   'agnesi'   ;
        =namelist:orography_schar_cartesian:    'schar'    ;
        =namelist:orography_schar_spherical:    'schar'    ;
        =namelist:orography_dcmip200_spherical: 'dcmip200' ;
        =namelist:orography_bell_cartesian:     'bell'     ;




#==============================================================================
# OROGRAPHY (AGNESI CARTESIAN)
#==============================================================================
[namelist:orography_agnesi_cartesian]
compulsory=true
description=Configure Agnesi orography (cartesian)
help=??????
!kind=default
ns=namelist/planet/orography/agnesi_cartesian
sort-key=sec-BBB
title=Agnesi mountain profile (Cartesian)


[namelist:orography_agnesi_cartesian=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_cartesian=half_width_x]
compulsory=true
description=??????
help=Half-width of mountain in x direction [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_cartesian=half_width_y]
compulsory=true
description=??????
help=Half-width of mountain in y direction [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_cartesian=x_centre]
compulsory=true
description=??????
help=x coordinate of mountain centre [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_cartesian=y_centre]
compulsory=true
description=??????
help=y coordinate of mountain centre [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_cartesian=direction]
compulsory=true
description=??????
!enumeration=true
help=Direction of mountain (x or y)
!kind=default
sort-key=
values='x', 'y'
value-titles=x, y




#==============================================================================
# OROGRAPHY (AGNESI SPERICAL)
#==============================================================================
[namelist:orography_agnesi_spherical]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/planet/orography/agnesi_spherical
sort-key=sec-BBC
title=Agnesi mountain profile (Spherical)


[namelist:orography_agnesi_spherical=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_spherical=half_width]
compulsory=true
description=??????
help=Half-width of mountain [m]
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_spherical=lambda_centre_dec]
compulsory=true
description=??????
help=Latitude of mountain centre unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_spherical=phi_centre_dec]
compulsory=true
description=??????
help=Longitude of mountain centre unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_spherical=lambda_focus_dec]
compulsory=true
description=??????
help=Latitude of mountain focus unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_agnesi_spherical=phi_focus_dec]
compulsory=true
description=??????
help=Longitude of mountain focus unscaled by PI
!kind=default
sort-key=
type=real


[!namelist:orography_agnesi_spherical=lambda_centre]
compulsory=false
expression=namelist:orography_agnesi_spherical=lambda_centre_dec * source:constants_mod=PI
help=Latitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/agnesi_spherical
sort-key=ZA-001
type=real


[!namelist:orography_agnesi_spherical=phi_centre]
compulsory=false
expression=namelist:orography_agnesi_spherical=phi_centre_dec * source:constants_mod=PI
help=Longitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/agnesi_spherical
sort-key=ZA-002
type=real


[!namelist:orography_agnesi_spherical=lambda_focus]
compulsory=false
expression=namelist:orography_agnesi_spherical=lambda_focus_dec * source:constants_mod=PI
help=Latitude of mountain focus [radian]
!kind=default
ns=namelist/planet/orography/agnesi_spherical
sort-key=ZA-003
type=real


[!namelist:orography_agnesi_spherical=phi_focus]
compulsory=false
expression=namelist:orography_agnesi_spherical=phi_focus_dec * source:constants_mod=PI
help=Longitude of mountain focus [radian]
!kind=default
ns=namelist/planet/orography/agnesi_spherical
sort-key=ZA-004
type=real



#==============================================================================
# OROGRAPHY (DCMIP 2.0.0 SPERICAL)
#==============================================================================
[namelist:orography_dcmip200_spherical]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet/orography/dcmip200_spherical
sort-key=sec-BBD
title=DCMIP 2.0.0  mountain profile (Spherical)


[namelist:orography_dcmip200_spherical=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=
type=real


[namelist:orography_dcmip200_spherical=radius_dec]
compulsory=true
description=??????
help=Mountain radius unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_dcmip200_spherical=osc_half_width_dec]
compulsory=true
description=??????
help=Oscillation half-width of orography function unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_dcmip200_spherical=lambda_centre_dec]
compulsory=true
description=??????
help=Latitude of mountain centre unscaled by PI
!kind=default
sort-key=
type=real


[namelist:orography_dcmip200_spherical=phi_centre_dec]
compulsory=true
description=??????
help=Longitude of mountain centre unscaled by PI
!kind=default
sort-key=
type=real


[!namelist:orography_dcmip200_spherical=radius]
compulsory=false
expression=namelist:orography_dcmip200_spherical=radius_dec * source:constants_mod=PI
help=Mountain radius [radian]
!kind=default
ns=namelist/planet/orography/dcmip200_spherical
sort-key=ZA-001
type=real


[!namelist:orography_dcmip200_spherical=osc_half_width]
compulsory=false
expression=namelist:orography_dcmip200_spherical=osc_half_width_dec * source:constants_mod=PI
help=Oscillation half-width of orography function [radian]
!kind=default
ns=namelist/planet/orography/dcmip200_spherical
sort-key=ZA-002
type=real


[!namelist:orography_dcmip200_spherical=lambda_centre]
compulsory=false
expression=namelist:orography_dcmip200_spherical=lambda_centre_dec * source:constants_mod=PI
help=Latitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/dcmip200_spherical
sort-key=ZA-003
type=real


[!namelist:orography_dcmip200_spherical=phi_centre]
compulsory=false
expression=namelist:orography_dcmip200_spherical=phi_centre_dec * source:constants_mod=PI
help=Longitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/dcmip200_spherical
sort-key=ZA-004
type=real




#==============================================================================
# OROGRAPHY (SCHAR CARTESIAN)
#==============================================================================
[namelist:orography_schar_cartesian]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet/orography/schar_cartesian
sort-key=sec-BBE
title=Schar (Cartesian)


[namelist:orography_schar_cartesian=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=half_width_x]
compulsory=true
description=??????
help=Half-width of mountain in x direction [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=half_width_y]
compulsory=true
description=??????
help=Half-width of mountain in y direction [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=wavelength]
compulsory=true
description=??????
help=Wavelength of Cos part of mountain function [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=x_centre]
compulsory=true
description=??????
help=x coordinate of mountain centre [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=y_centre]
compulsory=true
description=??????
help=y coordinate of mountain centre [m]
!kind=default
sort-key=
type=real


[namelist:orography_schar_cartesian=direction]
compulsory=true
description=??????
!enumeration=true
help=Direction of mountain (x, y, or xy)
sort-key=
values='x', 'y', 'xy'
value-titles=x, y, xy




#==============================================================================
# OROGRAPHY (SCHAR SPHERICAL)
#==============================================================================
[namelist:orography_schar_spherical]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet/orography/schar_spherical
sort-key=sec-BBF
title=Schar mountain profile (Spherical)


[namelist:orography_schar_spherical=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=AA-001
type=real


[namelist:orography_schar_spherical=half_width]
compulsory=true
description=??????
help=Half-width of mountain [m]
!kind=default
sort-key=AA-002
type=real


[namelist:orography_schar_spherical=wavelength]
compulsory=true
description=??????
help=Wavelength of Cos part of mountain function [m]
!kind=default
sort-key=AA-003
type=real


[namelist:orography_schar_spherical=lambda_centre_dec]
compulsory=true
description=??????
help=Latitude of mountain centre unscaled by PI
!kind=default
sort-key=AA-004
type=real


[namelist:orography_schar_spherical=phi_centre_dec]
compulsory=true
description=??????
help=Longitude of mountain centre unscaled by PI
!kind=default
sort-key=AA-005
type=real


[!namelist:orography_schar_spherical=lambda_centre]
compulsory=false
expression=namelist:orography_schar_spherical=lambda_centre_dec * source:constants_mod=PI
help=Latitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/schar_spherical
sort-key=ZA-001
type=real


[!namelist:orography_schar_spherical=phi_centre]
compulsory=false
expression=namelist:orography_schar_spherical=phi_centre_dec * source:constants_mod=PI
help=Longitude of mountain centre [radian]
!kind=default
ns=namelist/planet/orography/schar_spherical
sort-key=ZA-002
type=real


#==============================================================================
# OROGRAPHY (BELL CARTESIAN)
#==============================================================================
[namelist:orography_bell_cartesian]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet/orography/bell_cartesian
sort-key=sec-BBG
title=Bell-Shaped mountain profile (Cartesian)

[namelist:orography_bell_cartesian=mountain_height]
compulsory=true
description=??????
help=Height of mountain [m]
!kind=default
sort-key=AA-001
type=real

[namelist:orography_bell_cartesian=half_width_x]
compulsory=true
description=??????
help=Half-width of mountain in x direction [m]
!kind=default
sort-key=
type=real


[namelist:orography_bell_cartesian=half_width_y]
compulsory=true
description=??????
help=Half-width of mountain in y direction [m]
!kind=default
sort-key=
type=real

[namelist:orography_bell_cartesian=x_centre]
compulsory=true
description=??????
help=x coordinate of mountain centre [m]
!kind=default
sort-key=
type=real


[namelist:orography_bell_cartesian=y_centre]
compulsory=true
description=??????
help=y coordinate of mountain centre [m]
!kind=default
sort-key=
type=real

[namelist:orography_bell_cartesian=direction]
compulsory=true
description=??????
!enumeration=true
help=Direction of mountain (x, y, or xy)
sort-key=
values='x', 'y', 'xy'
value-titles=x, y, xy




#==============================================================================
# DAMPING LAYER
#==============================================================================
[namelist:damping_layer]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/planet/damping layer
sort-key=sec-BCA


[namelist:damping_layer=dl_base]
compulsory=true
description=??????
help=Base height of damping layer
!kind=default
sort-key=
type=real


[namelist:damping_layer=dl_str]
compulsory=true
description=??????
help=Strength of damping layer
!kind=default
sort-key=
type=real




#==============================================================================
# MODEL RUN
#==============================================================================
[model_run]
compulsory=false
description=??????
help=??????
    =??????
ns=namelist/model run
title=Model run
sort-key=sec-CAA




#==============================================================================
# TIMESTEPPING
#==============================================================================
[namelist:timestepping]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/model run/timestepping
sort-key=sec-CBA
title=Timestepping


[namelist:timestepping=method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=AA-001
values='semi_implicit', 'rk'
value-titles=Semi-implicit, Runge-Kutta


[namelist:timestepping=dt]
compulsory=true
description=??????
help=Timestep in seconds
!kind=default
sort-key=AA-002
type=real


[namelist:timestepping=alpha]
compulsory=true
description=??????
help=Time off-centering parameter
!kind=default
sort-key=AA-003
type=real


[namelist:timestepping=tau_u]
compulsory=true
description=??????
help=Relaxation parameter for velocity in semi-implicit method
!kind=default
sort-key=AA-004
type=real


[namelist:timestepping=tau_t]
compulsory=true
description=??????
help=Relaxation parameter for potential temperature in semi-implicit method
!kind=default
sort-key=AA-005
type=real


[namelist:timestepping=tau_r]
compulsory=true
description=??????
help=Relaxation parameter for density in semi-implicit method
!kind=default
sort-key=AA-006
type=real


[namelist:timestepping=outer_iterations]
compulsory=true
description=??????
help=Number of outer (advection) iterations to do
!kind=default
sort-key=AA-007
type=integer


[namelist:timestepping=inner_iterations]
compulsory=true
description=??????
help=Number of inner (Newton) iterations to do
!kind=default
sort-key=AA-008
type=integer


[namelist:timestepping=runge_kutta_method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=AA-009
values='ssp2', 'ssp3', 'ssp4', 'ssp5'
value-titles=ssp2, ssp3, ssp4, ssp5


[namelist:timestepping=spinup_period]
compulsory=true
description=??????
help=>=0 time in seconds for the spin up period
!kind=default
sort-key=AA-010
type=real


[namelist:timestepping=spinup_alpha]
compulsory=true
description=??????
help=If true then spin up alpha over the spin up period
!kind=default
sort-key=AA-011
type=logical


[namelist:timestepping=spinup_winds]
compulsory=true
description=??????
help=If true then don't update winds over the spin up period
!kind=default
sort-key=AA-012
type=logical


[!namelist:timestepping=beta]
compulsory=false
expression=1.0_r_def - namelist:timestepping=alpha
help=??????
    =??????
!kind=default
ns=namelist/model run/timestepping
sort-key=ZA-001
type=real




#==============================================================================
# RESTART
#==============================================================================
[namelist:restart]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/model run/restart
sort-key=sec-CCA
title=Restart


[namelist:restart=filename]
compulsory=true
description=??????
help=??????
    =??????
sort-key=
!string_length=filename
type=character




#==============================================================================
# RESTART SETTINGS
#==============================================================================
[namelist:restart_nml]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/model run/restart
sort-key=sec-CDA
title=Restart


[namelist:restart_nml=checkpoint_read]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=logical


[namelist:restart_nml=checkpoint_write]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=logical


[namelist:restart_nml=timestep_start]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=integer


[namelist:restart_nml=timestep_end]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=integer


[namelist:restart_nml=restart_stem_name]
compulsory=true
description=??????
help=??????
    =??????
!string_length=default
type=character


[namelist:restart_nml=checkpoint_frequency]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=integer


[namelist:restart_nml=xios_checkpoint]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
type=logical




#==============================================================================
# MODEL INPUT AND OUTPUT
#==============================================================================
[model_input_output]
compulsory=false
description=??????
help=??????
    =??????
ns=namelist/model input & output
title=Model input & output
sort-key=sec-DAA




#==============================================================================
# INITIAL CONDITIONS
#==============================================================================
[initial_conditions]
compulsory=false
description=??????
help=??????
    =??????
ns=namelist/model input & output/initial conditions
title=Initial conditions
sort-key=sec-DBA


[initial_conditions=use_idealised]
compulsory=true
description=??????
help=Initialise with idealised initial conditions
ns=namelist/model input & output/initial conditions
!kind=default
sort-key=AA-001
type=logical
!trigger=namelist:initial_density:     .true. ;
        =namelist:initial_temperature: .true. ;
        =namelist:initial_wind:        .true. ;
        =namelist:idealised:           .true. ;




#==============================================================================
# IDEALISED CASES
#==============================================================================
[namelist:idealised]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/model input & output/initial conditions
sort-key=sec-DBB


[namelist:idealised=test]
compulsory=true
description=??????
!enumeration=true
help= gravity_wave            : Gravity wave test (planar|spherical)
    = isot_atm                : Isothermal atmosphere
    = isot_mild_atm           : Isothermal atmosphere, mild ground temperature
    = isot_cold_atm           : Isothermal atmosphere, cold ground temperature
    = cold_bubble_x           : Straka density cold current test in x direction (planar)
    = cold_bubble_y           : Straka density cold current test in y direction (planar)
    = const_lapse_rate        : const_lapse_rate : Stratified atmosphere, constant lapse rate
    = warm_bubble             : Warm bubble test (planar)
    = warm_bubble_3d          : 3d Warm bubble test (planar)
    = gaussian_hill           : Pair of Gaussian hills (planar|spherical)
    = cosine_hill             : Pair of cosine hills (planar|spherical)
    = yz_cosine_hill          : Pair of cosine hills (in a y-z slice of the planar domain)
    = slotted_cylinder        : Pair of slotted cylinders (planar|spherical)
    = constant_field          : Constant density value everywhere (planar|spherical)
    = cosine_stripe           : Cosine profile which is a function of longitude only (planar|spherical)
    = vortex_field            : Pair of vortices (spherical)
    = hadley_like_dcmip       : Hadley-like DCMIP test (spherical)
    = held_suarez             : Held-Suarez idealised initialization
    = solid_body_rotation     : Solid body rotation test
    = solid_body_rotation_alt : Switchable deep/shallow solid body rotation test
    = deep_baroclinic_wave    : Deep atmosphere baroclinic wave (Ullrich 13)
    = isentropic              : Stationairy isentropic case
    = dry_cbl                 : Dry convective boundary layer
sort-key=sec-ZZ99
!trigger=namelist:initial_density:     'none' ;
         namelist:initial_temperature: 'none' ;
         namelist:initial_wind:        'none' ;
values= 'none', 'gravity_wave', 'isot_atm', 'isot_mild_atm', 'isot_cold_atm', 'cold_bubble_x',
      = 'cold_bubble_y', 'const_lapse_rate', 'warm_bubble', 'warm_bubble_3d', 'gaussian_hill',
      = 'cosine_hill', 'yz_cosine_hill', 'slotted_cylinder', 'constant_field', 'cosine_stripe',
      = 'vortex_field', 'hadley_like_dcmip', 'held_suarez', 'solid_body_rotation',
      = 'solid_body_rotation_alt', 'deep_baroclinic_wave', 'isentropic', 'dry_cbl'
value-titles= None, Gravity Wave, Isothermal atmosphere, Mild ground temperature,
            = Cold ground temperature, Cold bubble x,
            = Cold bubble y, Constant lapse rate, Warm bubble, Warm bubble 3d, Gaussian hill,
            = Cosine hill, YZ cosine hill, Slotted cylinder, Constant field, Cosine stripe,
            = Vortex field, Hadley like DCMIP, Held-Suarez, Solid body rotation,
            = Solid body rotation alt, Deep baroclinic wave, Isentropic,
            = Dry convective boundary layer
fail-if= this == "'yz_cosine_hill'"    and namelist:base_mesh=geometry == "'spherical'" ;
       = this == "'cold_bubble_x'"     and namelist:base_mesh=geometry == "'spherical'" ;
       = this == "'cold_bubble_y'"     and namelist:base_mesh=geometry == "'spherical'" ;
       = this == "'warm_bubble'"       and namelist:base_mesh=geometry == "'spherical'" ;
       = this == "'warm_bubble_3d'"    and namelist:base_mesh=geometry == "'spherical'" ;
       = this == "'vortex_field'"      and namelist:base_mesh=geometry == "'planar'"    ;
       = this == "'hadley_like_dcmip'" and namelist:base_mesh=geometry == "'planar'"




#==============================================================================
# INITIAL DENSITY
#==============================================================================
[namelist:initial_density]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/model input & output/initial conditions/density
sort-key=sec-DBB
title=Density


[namelist:initial_density=sample_init_rho]
compulsory=true
description=??????
help=Use sampling initialize rho true/false
!kind=default
sort-key=
type=logical


[namelist:initial_density=tracer_max]
compulsory=true
description=??????
help=Maximum value of tracer
!kind=default
sort-key=
type=real


[namelist:initial_density=tracer_background]
compulsory=true
description=??????
help=Background value of tracer
!kind=default
sort-key=
type=real


[namelist:initial_density=r1]
compulsory=true
description=??????
help=Radius for one of the pair of initial tracer functions
    =Biperiodic domain: in metres.
    =Cubed sphere domain: in radians.
!kind=default
sort-key=
type=real


[namelist:initial_density=x1]
compulsory=true
description=??????
help=Position for one of the pair of initial tracer functions
    =Biperiodic domain: centre of the function given in terms of metres in the chi1 direction.
    =Cubed sphere domain: longitudinal position of the centre of the function (a value between 0 and \f$2\pi\f$).
!kind=default
sort-key=
type=real


[namelist:initial_density=y1]
compulsory=true
description=??????
help=Position for one of the pair of initial tracer functions
    =Biperiodic domain: centre of the function given in terms of metres in the chi2 direction.
    =Cubed sphere domain: latitudinal position of the centre of the function (a value between \f$-\pi/2\f$ and \f$\pi/2\f$).
!kind=default
sort-key=
type=real


[namelist:initial_density=z1]
compulsory=true
description=??????
help=Centre height position for one of the pair of initial tracer functions
!kind=default
sort-key=
type=real


[namelist:initial_density=r2]
compulsory=true
description=??????
help=Radius parameter for the second of the pair of initial tracer functions (see r1)
!kind=default
type=real


[namelist:initial_density=x2]
compulsory=true
description=??????
help=Position parameter for the second of the pair of initial tracer functions (see x1)
!kind=default
sort-key=
type=real


[namelist:initial_density=y2]
compulsory=true
description=??????
help=Position parameter for the second of the pair of initial tracer functions (see y1)
!kind=default
sort-key=
type=real


[namelist:initial_density=z2]
compulsory=true
description=??????
help=Centre height position for one of the pair of initial tracer functions
!kind=default
sort-key=
type=real




#==============================================================================
# INITIAL TEMPERATURE
#==============================================================================
[namelist:initial_temperature]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/model input & output/initial conditions/temperature
sort-key=sec-DBC
title=Temperature


[namelist:initial_temperature=bvf_square]
compulsory=true
description=??????
help=The square of Brunt-Vaisala frequency [1/s^2]
!kind=default
sort-key=
type=real


[namelist:initial_temperature=theta_surf]
compulsory=true
description=??????
help=Value of temperature at z=0
!kind=default
sort-key=
type=real




#==============================================================================
[namelist:initial_wind]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/model input & output/initial conditions/wind
sort-key=sec-DBD
title=Wind


[namelist:initial_wind=profile]
compulsory=true
description=??????
!enumeration=true
help=Deep and shallow solid-body rotation
sort-key=
values='none', 'solid_body_rotation', 'solid_body_rotation_alt', 'constant_uv', 'constant_shear_uv',
      ='dcmip301', 'deep_baroclinic_steady', 'deep_baroclinic_perturbed', 'NL_case_1', 'NL_case_2',
      ='NL_case_3', 'NL_case_4', 'xy_NL_case_1', 'yz_NL_case_1', 'hadley_like_dcmip', 'vortex'
value-titles=None, Solid body rotation, Solid body rotation-alt, Constant uv, Constant shear uv,
      =DCMIP 3.0.1, Deep baroclinic - steady, Deep baroclinic - perturbed, NL case-1, NL case-2,
      =NL case-3, NL case-4, xy NL case-1, yz NL case-1, Hadley like DCMIP, Vortex


[namelist:initial_wind=u0]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=v0]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=sbr_angle_lat]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=sbr_angle_lon]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=wind_time_period]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=nl_constant]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=real


[namelist:initial_wind=smp_init_wind]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=logical




#==============================================================================
# OUTPUT
#==============================================================================
[namelist:output]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/model input & output/output
sort-key=sec-DCA
title=Output

[namelist:output=diag_stem_name]
compulsory=true
description=??????
help=Filename stem for diagnostic files
!string_length=filename
type=character


[namelist:output=write_xios_output]
compulsory=true
description=??????
help=Write xios output
!kind=default
sort-key=
type=logical


[namelist:output=write_nodal_output]
compulsory=true
description=??????
help=Write nodal output
!kind=default
sort-key=
type=logical


[namelist:output=diagnostic_frequency]
compulsory=true
description=??????
help=Frequency of diagnostic output in timesteps
!kind=default
sort-key=
type=integer


[namelist:output=nodal_output_on_w3]
compulsory=true
description=??????
help=Project fields to W3 for nodal diagnostic output
!kind=default
sort-key=
type=logical


[namelist:output=subroutine_timers]
compulsory=true
description=??????
help=Write out subroutine runtimes
!kind=default
sort-key=
type=logical


[namelist:output=subroutine_counters]
compulsory=true
description=??????
help=Write out subroutine counters
!kind=default
sort-key=
type=logical


[namelist:output=write_minmax_tseries]
compulsory=true
description=??????
help=Write maxima and minima of fields for time series.
!kind=default
sort-key=
type=logical




#==============================================================================
# DYNAMICS
#==============================================================================
[dynamics]
compulsory=false
description=??????
help=??????
    =??????
ns=namelist/dynamics
title=Dynamics
sort-key=sec-EAA




#==============================================================================
# FORMULATION
#==============================================================================
[namelist:formulation]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/dynamics/formulation
sort-key=sec-EBA
title=Formulation


[namelist:formulation=transport_only]
compulsory=true
description=??????
help=Solve the transport equation only
!kind=default
sort-key=
type=logical


[namelist:formulation=rotating]
compulsory=true
description=??????
help=Turn on/off Coriolis terms
!kind=default
sort-key=
type=logical


[namelist:formulation=use_moisture]
compulsory=true
description=??????
help=Use moisture variables.
!kind=default
sort-key=
type=logical


[namelist:formulation=use_physics]
compulsory=true
description=Use subgrid physics parametrizations
help=Use subgrid physics parametrizations
!kind=default
sort-key=
type=logical
trigger=namelist:physics: .true. ;


[namelist:formulation=shallow]
compulsory=true
description=??????
help=Run in shallow atmosphere mode
!kind=default
sort-key=
type=logical


[namelist:formulation=use_wavedynamics]
compulsory=true
description=??????
help=Use wave dynamics
!kind=default
sort-key=
type=logical


[namelist:formulation=dry_static_adjust]
compulsory=true
description=??????
help=Dry static adjustment of reference profile
!kind=default
sort-key=
type=logical


[namelist:formulation=dlayer_on]
compulsory=true
description=??????
help=Use damping layer yes/no
!kind=default
sort-key=
type=logical
trigger=namelist:damping_layer: .true. ;


[namelist:formulation=hard_wired_detj]
compulsory=true
description=??????
help=Hard-wire the computation of the determinant of the Jacobian matrix
!kind=default
sort-key=
type=logical


[namelist:formulation=hard_wired_j]
compulsory=true
description=??????
help=Hard-wire the computation of the Jacobian matrix
!kind=default
sort-key=
type=logical


[namelist:formulation=init_exner_bt]
compulsory=true
description=??????
help=Initialize exner hydrostatically bottom to top
!kind=default
sort-key=
type=logical


[namelist:formulation=set_hydrostatic_init]
compulsory=true
description=??????
help=Hydrostatic initialization of variable
!kind=default
sort-key=
type=logical




#==============================================================================
# MULTIGRID
#==============================================================================
[namelist:multigrid]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/dynamics/multigrid
sort-key=sec-ECA
title=Multi-grid


[namelist:multigrid=l_multigrid]
compulsory=true
description=??????
help=Enable/Disable multigrid scheme
!kind=default
ns=namelist/dynamics/multigrid
sort-key=AA-001
type=logical
!trigger=namelist:multigrid: .true. ;


[namelist:multigrid=multigrid_chain_nitems]
compulsory=true
description=Number of items in multigrid function space chain
help=??????
    =??????
!kind=default
sort-key=AA-002
type=integer


[namelist:multigrid=ugrid]
!bounds=namelist:multigrid=multigrid_chain_nitems
compulsory=true
description=Global ugrid files used by function space chain.
help=At present the 1st file must be the prime mesh, specify using 'prime'
sort-key=AA-003
!string_length=filename
type=character
length=:
fail-if=len(this) != namelist:multigrid=multigrid_chain_nitems ;
        this(1) != "'prime'"




#==============================================================================
# DEPARTURE POINTS (PLANAR)
#==============================================================================
[namelist:biperiodic_deppt]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/dynamics/biperiodic_deppt
sort-key=sec-EDA
title=Departure points (Planar)


[namelist:biperiodic_deppt=method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='euler', 'trapezoidal', 'midpoint'
value-titles=Eulerian, Trapezoidal, Midpoint


[namelist:biperiodic_deppt=n_dep_pt_iterations]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=integer




#==============================================================================
# CHECKING CRITERIA
#==============================================================================
[namelist:checks]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/dynamics/checks
sort-key=sec-EEA
title=Checking criteria


[namelist:checks=limit_cfl]
compulsory=true
description=??????
help=Impose limit on winds
!kind=default
sort-key=
type=logical


[namelist:checks=max_cfl]
compulsory=true
description=??????
help=Max CFL
!kind=default
sort-key=
type=real



#==============================================================================
# SUBGRID
#==============================================================================
[namelist:subgrid]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/dynamics/subgrid
sort-key=sec-EFA
title=Subgrid


[namelist:subgrid=rho_approximation]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='constant_subgrid', 'constant_positive', 'ppm_no_limiter', 'ppm_positive_only',
      ='ppm_positive_monotone'
value-titles=constant_subgrid, constant_positive, ppm_no_limiter, ppm_positive_only,
            =ppm_positive_monotone


[namelist:subgrid=dep_pt_stencil_extent]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=integer


[namelist:subgrid=rho_approximation_stencil_extent]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=integer


#==============================================================================
# TRANSPORT
#==============================================================================
[namelist:transport]
compulsory=true
description=??????
help=??????
    =??????
ns=namelist/dynamics/transport
sort-key=sec-EGA
title=Transport


[namelist:transport=scheme]
compulsory=true
description=??????
!enumeration=true
help=Method of lines        : Uses Runge-Kutta SSP3 for time integration of fluxes
    =Cosmic horizontal      : Cosmic transport scheme in the horizontal
    =Cosmic YZ (biperiodic) : Cosmic transport scheme for a Y-Z slice of (biperiodic mesh)
    =Cosmic 3D              : 3D Cosmic transport for biperiodic and cubed-sphere mesh
sort-key=
values='method_of_lines', 'horz_cosmic', 'yz_bip_cosmic', 'cosmic_3D'
value-titles=Method of lines, Cosmic horizontal,  Cosmic YZ (biperiodic),  Cosmic 3D


[namelist:transport=operators]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='fv', 'fem'
value-titles=Finite volume, Finite element


[namelist:transport=fv_flux_order]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=integer


[namelist:transport=fv_advective_order]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
sort-key=
type=integer


[namelist:transport=consistent_metric]
compulsory=true
description=??????
help=Compute metric terms with the advection scheme
!kind=default
sort-key=
type=logical


[namelist:transport=enforce_monotonicity]
compulsory=true
description=??????
help=Enforce monotonicity with Method of Lines advection
!kind=default
sort-key=
type=logical




#==============================================================================
# MASS MATRIX SOLVER
#==============================================================================
[namelist:solver]
compulsory=true
description=??????
help=This namelist is for using iteratives solvers for the inversion of mass matrices
ns=namelist/dynamics/mass matrix solver
sort-key=sec-EGA
title=Mass matrix solver


[namelist:solver=method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='bicgstab', 'cg', 'gcr', 'gmres', 'fgmres', 'prec_only'
value-titles=biconjugate gradient stabilized,
            =conjugate gradient,
            =generalized conjugate residual,
            =generalized minimal residual,
            =flexible generalized minimal residual,
            =precondition only

[namelist:solver=maximum_iterations]
compulsory=true
description=??????
help=Iteration limit for solver
!kind=default
sort-key=
type=integer


[namelist:solver=tolerance]
compulsory=true
description=??????
help=Relative tolerance of solver
!kind=default
sort-key=
type=real


[namelist:solver=preconditioner]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='none', 'diagonal'
value-titles=None, Diagonal


[namelist:solver=gcrk]
compulsory=true
description=??????
help=Dimension of the approximate Krylov subspace.
    =In other words, it is the number of potential
    =residual vectors to calculate at each
    =iteration of the solver.
!kind=default
sort-key=
type=integer




#==============================================================================
# HELMHOLTZ SOLVER
#==============================================================================
[namelist:helmholtz_solver]
compulsory=true
description=??????
help=This namelist contains the options for the preconditioner (helmholtz) solver
!kind=default
ns=namelist/dynamics/helmholtz solver
sort-key=sec-EHA
title=Pre-conditioner solver


[namelist:helmholtz_solver=method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='bicgstab', 'cg', 'gcr', 'gmres', 'fgmres', 'prec_only'
value-titles=biconjugate gradient stabilized, 
            =conjugate gradient,
            =generalized conjugate residual,
            =generalized minimal residual,
            =flexible generalized minimal residual,
            =precondition only


[namelist:helmholtz_solver=si_pressure_tolerance]
compulsory=true
description=??????
help=Relative tolerance of semi-implicit pressure solver
!kind=default
sort-key=
type=real


[namelist:helmholtz_solver=preconditioner]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
sort-key=
values='none', 'diagonal', 'tridiagonal'
value-titles=None, Diagonal, Tridiagonal


[namelist:helmholtz_solver=si_pressure_maximum_iterations]
compulsory=true
description=??????
help=Iteration limit for si preconditioner solver
!kind=default
sort-key=
type=integer


[namelist:helmholtz_solver=normalise]
compulsory=true
description=??????
help=Normalise Helmholtz matrix by its approximate diagonal
!kind=default
sort-key=
type=logical


[namelist:helmholtz_solver=gcrk]
compulsory=true
description=??????
help=Dimension of the approximate Krylov subspace.
    =In other words, it is the number of potential
    =residual vectors to calculate at each
    =iteration of the solver.
!kind=default
sort-key=
type=integer




#==============================================================================
# OUTER SOLVER
#==============================================================================
[namelist:mixed_solver]
compulsory=true
description=??????
help=This namelist is for the mixed (outer) si solver
ns=namelist/dynamics/mixed_solver
sort-key=sec-EIA
title=Outer solver


[namelist:mixed_solver=si_method]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
!kind=default
sort-key=
values='bicgstab','cg', 'gcr', 'gmres', 'fgmres', 'prec_only'
value-titles=biconjugate gradient stabilized,
            =conjugate gradient,
            =generalized conjugate residual,
            =generalized minimal residual,
            =flexible generalized minimal residual,
            =precondition only


[namelist:mixed_solver=si_tolerance]
compulsory=true
description=??????
help=Relative tolerance of semi-implicit solver
!kind=default
sort-key=
type=real


[namelist:mixed_solver=si_preconditioner]
compulsory=true
description=??????
!enumeration=true
help=??????
    =??????
!kind=default
sort-key=
values='none', 'diagonal', 'pressure'
value-titles=None, Diagonal, Pressure


[namelist:mixed_solver=si_maximum_iterations]
compulsory=true
description=??????
help=Iteration limit for si solver
!kind=default
sort-key=
type=integer


[namelist:mixed_solver=gcrk]
compulsory=true
description=??????
help=Dimension of the approximate Krylov subspace.
    =In other words, it is the number of potential
    =residual vectors to calculate at each
    =iteration of the solver.
!kind=default
sort-key=
type=integer


[namelist:mixed_solver=guess_np1]
compulsory=true
description=??????
help=Guess values for theta, rho and exner n+1 in inner loop
!kind=default
sort-key=
type=logical


[namelist:mixed_solver=reference_reset_freq]
compulsory=true
description=??????
help=frequency (number of si iterations) to reset reference state
!kind=default
sort-key=
type=integer


[namelist:mixed_solver=normalise]
compulsory=true
description=??????
help=Normalise matrix so diagonal is 1
!kind=default
sort-key=
type=logical




#==============================================================================
# PHYSICS SECTION
#==============================================================================
[physics]
compulsory=false
description=??????
help=??????
    =??????
ns=namelist/physics
sort-key=sec-FAA
title=Physics


#==============================================================================
# PHYSICS
#==============================================================================
[namelist:physics]
ns=namelist/physics
compulsory=true
description=Options for physics parametrizations
help=The placement variables indicate where a given physics routine is placed
    =if > 0: then placement is in fast physics
    =if =0: then routine is not called
    =if < 0: then placement is in slow physics
sort-key=sec-FBA

[namelist:physics=heldsuarez_thermo_placement]
compulsory=true
description=Held-Suarez theta forcing
help=Only available in slow physics (-1) or off (0)
!kind=default
sort-key=10a
type=integer

[namelist:physics=heldsuarez_wind_placement]
compulsory=true
description=Held-Suarez wind forcing
help=Only available in slow physics (-1) or off (0)
!kind=default
sort-key=10b
type=integer


[namelist:physics=boundary_layer_placement]
compulsory=true
description=Placement of the boundary layer scheme
help=Only available in fast physics (1) or off (0)
!kind=default
sort-key=03
trigger=namelist:physics=convection_placement: 1;
trigger=namelist:physics=l_flux_bc: 1;
type=integer

[namelist:physics=convection_placement]
compulsory=true
description=Placement of the convection scheme
help=Only available in fast physics (1) or off (0)
!kind=default
sort-key=05
type=integer

[namelist:physics=microphysics_placement]
compulsory=true
description=Placement of the microphysics scheme
help=Only available in slow physics (-1) or off (0)
!kind=default
sort-key=04
type=integer

[namelist:physics=hs_random]
compulsory=true
description=Random perturbations to HS forcing
help=Add in some random
    =perturbations to HS forcing
    =idealised surface options
!kind=default
sort-key=10c
type=logical

[namelist:physics=l_flux_bc]
compulsory=true
description=Use fixed surface fluxes
help=Apply fixed surface fluxes rather than interactive calculation with Jules
!kind=default
sort-key=03a
trigger=namelist:physics=fixed_flux_e: .true.;
       =namelist:physics=fixed_flux_h: .true.;
type=logical

[namelist:physics=fixed_flux_e]
compulsory=true
description=Surface latent heat flux
help=Fixed surface latent heat flux [Wm-2]
!kind=default
sort-key=03b
type=real

[namelist:physics=fixed_flux_h]
compulsory=true
description=Surface sensible heat flux
help=Fixed surface sensible heat flux [Wm-2]
!kind=default
sort-key=03c
type=real

[namelist:physics=cloud_scheme]
compulsory=true
description=Cloud scheme
help= Choice of cloud scheme to use
    = 
    = Smith scheme (1990):
    = Uses the diagnostic cloud fraction and condensate variables,
    = based on a symmetric triangualar PDF of subgrid variability.
    =
    = Note: Disabling the cloud scheme will result in no updates to 
    =       the cloud fraction or water content from the cloud scheme.
    =       Micro-physics updates to cloud are unaffected by this 
    =       setting.
    =
!enumeration=true
sort-key=09
trigger=namelist:physics=rhcritical: 'smith';
values='none','smith'
value-titles=None, Smith

[namelist:physics=rhcritical]
compulsory=true
description=Critical relative humidity
help= The critical relative humidity is used in the cloud scheme to define 
    = the ratio at which cloud starts to form. Values may vary depending on 
    = the configuration. Please refer to standard jobs for current
    = recommended settings.
    = The number of values must match the number of levels in the model.
    = 
length=:
sort-key=09a
type=real
!kind=default
range=0.0:1.0

#==============================================================================
# MIXING
#==============================================================================
[namelist:mixing]
compulsory=true
description=??????
help=??????
    =??????
!kind=default
ns=namelist/physics/mixing
sort-key=sec-FCA
title=Mixing


[namelist:mixing=viscosity]
compulsory=true
description=??????
help=Apply constant viscosity to theta & u,v,w
!kind=default
sort-key=
type=logical


[namelist:mixing=viscosity_mu]
compulsory=true
description=??????
help=Viscosity constant to use
!kind=default
sort-key=
type=real


[namelist:mixing=smagorinsky]
compulsory=true
description=Activate Smagorinsky mixing
help=Apply Smagorinsky mixing
!kind=default
sort-key=
type=logical


[namelist:mixing=mix_factor]
compulsory=true
description=Smagorinsky mixing length constant
help=Smagorinsky mixing length constant, typical value is 0.2
!kind=default
sort-key=
type=real
