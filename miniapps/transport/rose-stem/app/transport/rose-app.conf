meta=miniapps/transport/rose-meta/lfric-transport/HEAD

[command]
aprun=aprun   -n 6 $BIN_DIR/transport transport_configuration.nml
default=$BIN_DIR/transport transport_configuration.nml
mpiexec=mpiexec -n 6 $BIN_DIR/transport transport_configuration.nml

[file:$DESTINATION_DIRECTORY]
mode=mkdir

[file:transport_configuration.nml]
mode=auto
source=namelist:base_mesh
      = namelist:section_choice
      = namelist:extrusion
      = namelist:files
      = namelist:finite_element
      = namelist:initial_temperature
      = namelist:initial_wind
      = namelist:initialization
      = namelist:io
      = namelist:time
      = namelist:subgrid
      = namelist:initial_density
      = namelist:transport
      = namelist:planet
      = namelist:idealised
      = namelist:formulation
      = namelist:biperiodic_deppt
      = namelist:solver
      = namelist:timestepping
      = namelist:partitioning
      = (namelist:domain_size)

[namelist:base_mesh]
f_lat_deg=45.0
filename=''
fplane=.false.
geometry='planar'
partitioner='planar'
prime_mesh_name='dynamics'

[namelist:biperiodic_deppt]
method='euler'
n_dep_pt_iterations=1

[!!namelist:blayer]
!!fixed_flux_e=0
!!fixed_flux_h=0
flux_bc_opt=0

[namelist:checks]
limit_cfl=.false.
!!max_cfl=0.0

[!!namelist:cloud]
rh_crit=10*0.99
scheme='smith'

[!!namelist:convection]
dummy_var=0

[!!namelist:damping_layer]
dl_base=0.0
dl_str=0.0

[namelist:domain_size]
planar_domain_max_x=1.0
planar_domain_max_y=1.0
planar_domain_min_x=-1.0
planar_domain_min_y=-1.0

[namelist:extrusion]
domain_top=10.0
method='uniform'
number_of_layers=10

[namelist:files]
checkpoint_stem_name='$CYLC_SUITE_SHARE_DIR/data/restartTransport_$ROSE_SUITE_NAME-$ROSE_TASK_NAME'
diag_stem_name='diagTransport'
start_dump_directory=''
start_dump_filename=''

[namelist:finite_element]
cellshape='quadrilateral'
coordinate_order=2
element_order=0
rehabilitate=.true.
supg=.false.
vorticity_in_w1=.true.

[namelist:formulation]
dlayer_on=.false.
dry_static_adjust=.false.
exner_from_eos=.false.
hard_wired_detj=.false.
hard_wired_j=.false.
init_exner_bt=.false.
rotating=.false.
set_hydrostatic_init=.false.
shallow=.false.
transport_only=.true.
use_moisture=.false.
use_physics=.false.
use_wavedynamics=.false.

[namelist:helmholtz_solver]
gcrk=4
method='bicgstab'
normalise=.true.
preconditioner='diagonal'
si_pressure_maximum_iterations=199
si_pressure_tolerance=1.0e-4

[namelist:idealised]
test='cosine_hill'

[namelist:initial_density]
r1=0.343611696486384
r2=0.343611696486384
sample_init_rho=.false.
tracer_background=0.1
tracer_max=1.0
x1=0.0
x2=0.0
y1=0.0
y2=0.0
z1=0.0
z2=0.0

[namelist:initial_temperature]
bvf_square=0.0001
theta_surf=300.0

[namelist:initial_wind]
nl_constant=0.0
profile='solid_body_rotation'
sbr_angle_lat=0.25
sbr_angle_lon=0.0
smp_init_wind=.false.
u0=38.61073731
v0=0.0
wind_time_period=0.0

[namelist:initialization]
ancil_option='none'
init_option='analytic'

[namelist:io]
checkpoint_read=.false.
checkpoint_write=.false.
diagnostic_frequency=32
nodal_output_on_w3=.false.
subroutine_counters=.false.
subroutine_timers=.true.
use_xios_io=.false.
write_diag=.true.
write_dump=.false.
write_minmax_tseries=.false.

[!!namelist:microphysics]
dummy_var=0

[namelist:mixed_solver]
gcrk=4
guess_np1=.false.
normalise=.true.
reference_reset_freq=1
si_maximum_iterations=20
si_method='gmres'
si_preconditioner='pressure'
si_tolerance=1.0e-4
use_operators=.true.

[namelist:mixing]
!!method='blending'
!!mix_factor=0.0
smagorinsky=.false.
viscosity=.false.
viscosity_mu=0.0

[namelist:multigrid]
l_multigrid=.false.
multigrid_chain_nitems=1
ugrid='prime'

[!!namelist:orbit]
!!arg_periapsis=0
!!arg_periapsis_inc=0
!!eccentricity=0
!!eccentricity_inc=0
elements='user'
!!epoch=0
!!fixed_azimuth_angle=0
!!fixed_zenith_angle=0
!!hour_angle=0
!!hour_angle_inc=0
!!mean_anomaly=0
!!mean_anomaly_inc=0
!!obliquity=0
!!obliquity_inc=0
observer_lat=0
observer_lon=0
!!semimajor_axis=0
!!semimajor_axis_inc=0
spin='user'

[namelist:orography]
profile='none'

[!!namelist:orography_agnesi_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_agnesi_spherical]
half_width=0.0
lambda_centre_dec=0.0
lambda_focus_dec=0.0
mountain_height=0.0
phi_centre_dec=0.0
phi_focus_dec=0.0

[!!namelist:orography_bell_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_dcmip200_spherical]
lambda_centre_dec=0.0
mountain_height=0.0
osc_half_width_dec=0.0
phi_centre_dec=0.0
radius_dec=0.0

[!!namelist:orography_schar_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
wavelength=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_schar_spherical]
half_width=0.0
lambda_centre_dec=0.0
mountain_height=0.0
phi_centre_dec=0.0
wavelength=0.0

[namelist:partitioning]
auto=.true.
panel_xproc=1
panel_yproc=1

[namelist:physics]
!!blayer_placement='fast'
!!convection_placement='fast'
heldsuarez_thermo_placement=0
heldsuarez_wind_placement=0
!!hs_random=.false.
!!microphysics_placement='slow'
!!radiation_placement='slow'
!!spectral_gwd_placement='slow'

[namelist:planet]
cp=1005.0
gravity=9.80665
omega=7.292116E-5
p_zero=100000.0
radius=6371229.0
rd=287.05
scaling_factor=1.0

[!!namelist:radiation]
cloud_inhomogeneity='homogeneous'
cloud_overlap='maximum_random'
cloud_representation='no_cloud'
i_cloud_ice_type_lw=0
i_cloud_ice_type_sw=0
i_cloud_liq_type_lw=0
i_cloud_liq_type_sw=0
l_ch4_lw=.false.
l_ch4_sw=.false.
l_co2_lw=.false.
l_co2_sw=.false.
l_continuum_lw=.false.
l_continuum_sw=.false.
l_h2o_lw=.false.
l_h2o_sw=.false.
l_n2o_lw=.false.
l_n2o_sw=.false.
l_o2_sw=.false.
l_o3_lw=.false.
l_o3_sw=.false.
l_planet_grey_surface=.false.
l_rayleigh_sw=.false.
!!planet_albedo=0
!!planet_emissivity=0
spectral_file_lw=''
spectral_file_sw=''

[namelist:section_choice]
!!boundary_layer='none'
!!cloud='none'
!!convection='none'
dynamics='none'
!!land_surface='none'
!!microphysics='none'
!!radiation='none'
!!spectral_gwd='none'

[namelist:solver]
gcrk=18
maximum_iterations=399
method='cg'
preconditioner='diagonal'
tolerance=1.0e-6

[!!namelist:spectral_gwd]
add_cgw=.false.
!!cgw_scale_factor=1.0
ussp_heating=.true.
ussp_launch_factor=1.2000
wavelstar=4300.00

[!!namelist:star]
stellar_constant=0
stellar_radius=0

[namelist:subgrid]
dep_pt_stencil_extent=1
rho_approximation='ppm_positive_monotone'
rho_approximation_stencil_extent=2

[namelist:time]
timestep_end=$RESTART_STOP
timestep_start=1

[namelist:timestepping]
alpha=0.5
dt=$DT
inner_iterations=2
method='semi_implicit'
outer_iterations=2
runge_kutta_method='ssp3'
spinup_alpha=.false.
spinup_period=0.0
spinup_winds=.false.
tau_r=0.5
tau_t=0.5
tau_u=0.5

[namelist:transport]
consistent_metric=.false.
enforce_monotonicity=.false.
fv_advective_order=3
fv_flux_order=2
oned_reconstruction=.false.
operators='fv'
scheme='horz_cosmic'

[namelist:well_mixed_gases]
cfc113_mix_ratio=0
cfc11_mix_ratio=0
cfc12_mix_ratio=0
ch4_mix_ratio=0
co2_mix_ratio=0
hcfc22_mix_ratio=0
hfc134a_mix_ratio=0
n2_mix_ratio=0
n2o_mix_ratio=0
o2_mix_ratio=0
so2_mix_ratio=0
