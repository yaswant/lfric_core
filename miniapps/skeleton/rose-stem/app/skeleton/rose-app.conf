meta=miniapps/skeleton/rose-meta/lfric-skeleton/HEAD

[command]
default=launch-exe

[env]
EXEC_NAME=skeleton
OMP_NUM_THREADS=1
TOTAL_RANKS=1
XIOS_SERVER_MODE=True
XIOS_SERVER_RANKS=1

[file:$DESTINATION_DIRECTORY]
mode=mkdir

[file:configuration.nml]
mode=auto
source=namelist:base_mesh
      =  namelist:boundaries
      = (namelist:development)
      = (namelist:domain_size)
      =  namelist:extrusion
      = (namelist:files)
      =  namelist:finite_element
      =  namelist:formulation
      =  namelist:initialization
      =  namelist:io
      =  namelist:logging
      =  namelist:mixing
      = (namelist:multigrid)
      =  namelist:planet
      =  namelist:partitioning
      =  namelist:section_choice
      =  namelist:time
      =  namelist:timestepping

[!!namelist:aerosol]
glomap_mode='climatology'
sulphuric_strat_climatology=.false.
!!sulphuric_strat_column=1.86604e-6

[namelist:base_mesh]
f_lat_deg=45.0
filename=''
fplane=.false.
geometry='planar'
partitioner='planar'
prime_mesh_name='dynamics'
topology='fully_periodic'

[namelist:biperiodic_deppt]
method='euler'
n_dep_pt_iterations=0
vertical_method='trapezoidal'

[!!namelist:blayer]
a_ent_shr=5.0
bl_mix_w=.false.
cbl_opt='conventional'
dyn_diag='ri_based'
!!fixed_flux_e=0.0
!!fixed_flux_h=300.0
flux_bc_opt='interactive'
free_atm_mix='to_sharp'
fric_heating=.true.
new_kcloudtop=.false.
p_unstable=0.5
reduce_fa_mix='inv_and_cu_lcl'
relax_sc_over_cu=.false.
sbl_opt='sharp_sea_mes_land'
sg_orog_mixing='none'
!!zhloc_depth_fac=0.4

[namelist:boundaries]
!!boundary_e=1
!!boundary_n=1
!!boundary_s=1
!!boundary_w=1
!!edge_cells_ew=1
!!edge_cells_ns=1
!!inner_width_ew=1
!!inner_width_ns=1
limited_area=.false.
!!normal_only=.true.
!!outer_width_ew=1
!!outer_width_ns=1
!!rim_width_ew=1
!!rim_width_ns=1

[namelist:checks]
limit_cfl=.false.
!!max_cfl=0.0

[!!namelist:cloud]
!!cff_spread_rate=1.0e-5
cld_fsd_hill=.true.
!!cloud_horizontal_fsd=0.75
falliceshear_method='real'
!!ice_width=0.02
rh_crit=0.99
rh_crit_opt='tke'
scheme='pc2'
subgrid_qv=.true.
use_fsd_eff_res=.true.

[namelist:convection]
!!cv_scheme='gregory_rowntree'
!!number_of_convection_substeps=2
!!use_jules_flux=.false.

[!!namelist:damping_layer]
dl_base=0.0
dl_str=0.0

[namelist:development]

[namelist:domain_size]
planar_domain_max_x=1.0
planar_domain_max_y=1.0
planar_domain_min_x=-1.0
planar_domain_min_y=-1.0

[namelist:extrusion]
domain_top=1000.0
method='uniform'
number_of_layers=1

[namelist:files]
!!aerosols_ancil_path=''
!!albedo_nir_ancil_path=''
!!albedo_vis_ancil_path=''
ancil_directory=''
checkpoint_stem_name='$CYLC_SUITE_SHARE_DIR/data/restartSkeleton_$ROSE_SUITE_NAME-$ROSE_TASK_NAME'
diag_stem_name='diagSkeleton'
!!hydtop_ancil_path=''
!!land_area_ancil_path=''
orography_ancil_path=''
!!ozone_ancil_path=''
!!plant_func_ancil_path=''
!!sea_ancil_path=''
!!sea_ice_ancil_path=''
!!soil_ancil_path=''
!!sst_ancil_path=''
start_dump_directory=''
start_dump_filename=''
!!surface_frac_ancil_path=''

[namelist:finite_element]
cellshape='quadrilateral'
coordinate_order=2
element_order=0
rehabilitate=.true.
spherical_coord_order=1
spherical_coord_system='xyz'
vorticity_in_w1=.false.

[namelist:formulation]
dlayer_on=.false.
dry_static_adjust=.false.
exner_from_eos=.false.
init_exner_bt=.false.
l_multigrid=.false.
moisture_conservation=.false.
rotating=.false.
shallow=.false.
si_momentum_equation=.true.
transport_only=.false.
use_moisture=.false.
use_physics=.false.
use_wavedynamics=.false.
vector_invariant=.true.

[namelist:helmholtz_solver]
!!diagnostic_norm=.false.
gcrk=0
method='bicgstab'
normalise=.false.
preconditioner='none'
si_pressure_maximum_iterations=1
si_pressure_tolerance=0.0

[namelist:idealised]
test='none'

[namelist:initial_density]
r1=0.0
r2=0.0
tracer_background=0.0
tracer_max=0.0
x1=0.0
x2=0.0
y1=0.0
y2=0.0
z1=0.0
z2=0.0

[namelist:initial_pressure]
method='projected'
surface_pressure=1000.0e2

[namelist:initial_temperature]
bvf_square=0.0
pert_width_scaling=1.0
theta_surf=300.0

[namelist:initial_wind]
nl_constant=0.0
profile='none'
sbr_angle_lat=0.0
sbr_angle_lon=0.0
smp_init_wind=.false.
u0=0.0
v0=0.0
wind_time_period=0.0

[namelist:initialization]
ancil_option='none'
!!hydro_coriolis=.false.
init_option='analytic'

[namelist:io]
checkpoint_read=.false.
checkpoint_write=.false.
diagnostic_frequency=1
!!nodal_output_on_w3=.false.
subroutine_counters=.false.
subroutine_timers=.false.
use_xios_io=.true.
write_conservation_diag=.false.
write_diag=.true.
write_dump=.false.
write_minmax_tseries=.false.

[namelist:logging]
run_log_level='info'

[!!namelist:microphysics]
!!a_ratio_exp=-0.2707
!!a_ratio_fac=0.0517
droplet_tpr=.false.
!!ndrop_surf=50.0e6
!!qcl_rime=1.0e-4
shape_rime=.false.
!!z_surf=50.0

[namelist:mixed_solver]
gcrk=0
guess_np1=.false.
mixed_solver_a_tol=1.e-6
normalise=.false.
reference_reset_freq=1
!!si_diagnostic_norm=.false.
si_maximum_iterations=1
si_method='bicgstab'
si_preconditioner='none'
si_tolerance=0.0
split_w=.true.
use_operators=.false.

[namelist:mixing]
!!method='blending'
!!mix_factor=0.2
smagorinsky=.false.
viscosity=.false.
viscosity_mu=0.0

[!!namelist:multigrid]
chain_mesh_tags=''
multigrid_chain_nitems=1

[!!namelist:orbit]
!!arg_periapsis=1.796767421
!!arg_periapsis_inc=0.0
!!eccentricity=1.6710222E-02
!!eccentricity_inc=0.0
elements='earth_fixed'
!!epoch=2451545.0
!!fixed_azimuth_angle=0.0
!!fixed_zenith_angle=0.0
!!hour_angle=0.0
!!hour_angle_inc=0.0
!!mean_anomaly=-0.037278428
!!mean_anomaly_inc=0.01720278179
!!obliquity=0.0
!!obliquity_inc=0.0
observer_lat=0.0
observer_lon=0.0
!!semimajor_axis=1.0
!!semimajor_axis_inc=0.0
spin='earth_day'

[!!namelist:orographic_drag]
cd_flow_blocking=4.0
fr_crit_gwd=4.0
fr_sat_gwd=0.25
gwd_scaling=0.5
include_moisture='dry'
mountain_height_scaling=2.5
orographic_blocking_heating=.true.
orographic_gwd_heating=.true.
vertical_smoothing=.true.

[namelist:orography]
orog_init_option='none'
!!profile='none'

[!!namelist:orography_agnesi_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_agnesi_spherical]
half_width=0.0
lambda_centre_dec=0.0
lambda_focus_dec=0.0
mountain_height=0.0
phi_centre_dec=0.0
phi_focus_dec=0.0

[!!namelist:orography_bell_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_dcmip200_spherical]
lambda_centre_dec=0.0
mountain_height=0.0
osc_half_width_dec=0.0
phi_centre_dec=0.0
radius_dec=0.0

[!!namelist:orography_schar_cartesian]
direction='x'
half_width_x=0.0
half_width_y=0.0
mountain_height=0.0
wavelength=0.0
x_centre=0.0
y_centre=0.0

[!!namelist:orography_schar_spherical]
half_width=0.0
lambda_centre_dec=0.0
mountain_height=0.0
phi_centre_dec=0.0
wavelength=0.0

[namelist:partitioning]
panel_decomposition='auto'
!!panel_xproc=1
!!panel_yproc=1

[namelist:physics]
!!blayer_placement='fast'
!!convection_placement='fast'
heldsuarez_thermo_placement=0
heldsuarez_wind_placement=0
!!hs_random=.false.
!!lowest_level='gradient'
!!microphysics_placement='slow'
!!orographic_drag_placement='slow'
!!radiation_placement='slow'
!!sample_physics_scalars=.false.
!!sample_physics_winds=.false.
!!spectral_gwd_placement='slow'

[namelist:planet]
cp=1005.0
gravity=9.80665
omega=7.292116E-5
p_zero=100000.0
radius=6371229.0
rd=287.05
scaling_factor=125.0

[!!namelist:radiation]
!!cloud_inhomogeneity='mcica'
!!cloud_overlap='exponential_random'
cloud_representation='liquid_and_ice'
!!cloud_vertical_decorr=10000.0
!!constant_droplet_effective_radius=7.0E-6
!!droplet_effective_radius='liu'
i_cloud_ice_type_lw=11
i_cloud_ice_type_sw=11
i_cloud_liq_type_lw=5
i_cloud_liq_type_sw=5
l_cfc113_lw=.false.
l_cfc11_lw=.false.
l_cfc12_lw=.false.
l_ch4_lw=.true.
l_ch4_sw=.true.
l_co2_lw=.true.
l_co2_sw=.true.
l_continuum_lw=.true.
l_continuum_sw=.true.
l_h2o_lw=.true.
l_h2o_sw=.true.
l_hcfc22_lw=.false.
l_hfc134a_lw=.false.
l_n2o_lw=.true.
l_n2o_sw=.true.
l_o2_sw=.true.
l_o3_lw=.true.
l_o3_sw=.true.
l_planet_grey_surface=.false.
l_rayleigh_sw=.true.
l_trans_zen_correction=.false.
!!mcica_data_file='ga7/mcica_data'
n_radstep=1
!!planet_albedo=0.06
!!planet_emissivity=0.985
spectral_file_lw='ga7/sp_lw_ga7'
spectral_file_sw='ga7/sp_sw_ga7'

[namelist:section_choice]
!!aerosol='none'
!!boundary_layer='none'
!!cloud='none'
!!convection='none'
dynamics='none'
!!methane_oxidation=.false.
!!microphysics='none'
!!orographic_drag='none'
!!radiation='none'
!!spectral_gwd='none'
!!surface='none'

[namelist:solver]
!!diagnostic_norm=.false.
gcrk=0
maximum_iterations=1
method='bicgstab'
preconditioner='none'
tolerance=0.0

[!!namelist:spectral_gwd]
add_cgw=.false.
!!cgw_scale_factor=1.0
ussp_heating=.true.
ussp_launch_factor=1.3
wavelstar=4300.0

[!!namelist:star]
stellar_constant=1361.0
stellar_radius=6.957e8

[namelist:subgrid]
dep_pt_stencil_extent=1
rho_approximation='constant_subgrid'
rho_approximation_stencil_extent=1

[!!namelist:surface]
alb_leaf_nir=0.45,0.35,0.58,0.58,0.58
alb_leaf_vis=0.1,0.07,0.1,0.1,0.1
alb_sice_melt=0.72
alb_snocov_max=2.5e-1,2.5e-1,6.0e-1,6.0e-1,4.0e-1
alb_snocov_nvg=0.4,0.8,0.8,0.8
alb_snofree_nvg=0.18,0.12,-1.0,0.75
albedo_obs=.false.
basal_melting='none'
blue_sky_alb=.true.
can_cap_nvg=0.5,0.0,0.0,0.0
can_clump=1.0,4.0,1.0,1.0,1.0
can_rad_mod='four'
cansnowpft=.false.,.true.,.false.,.false.,.false.
!!cdn_hw_sea=0.002
!!cdn_max_sea=0.003
cor_mo_iter='lim_oblen'
dpsids_dsdz=.true.
dt_ice_albedo=2.0
emis_sea=0.985
emis_sice=0.976
evap_scale_sea=1.0
!!fd_stability_dep='none'
!!fixed_sea_albedo=0.06
formdrag='none'
fsmc_p0=5*0.0
grain_growth='marshall'
heat_cap_nvg=2.8e5,2.11e7,0.0,0.0
!!heat_cap_sea=2.0e6
i_high_wind_drag='null'
iceformdrag_lupkes=.false.
l_10m_neut=.false.
l_hapke_soil=.false.
l_limit_canhc=.false.
l_partition_albsoil=.false.
l_spec_veg_z0=.false.
l_var_rainfrac=.false.
l_vary_z0m_soil=.false.
l_vg_soil=.true.
light_extinct=5*0.5
n_lai_exposed=1.0,1.0,3.0,3.0,2.0
!!non_iso_scatter=.true.
!!ratio_albsoil=2.0
relayer_opt='original'
rho_snow_fresh=109.0
scat_coef_nir=0.7,0.45,0.83,0.83,0.83
scat_coef_vis=0.15,0.15,0.15,0.17,0.15
sea_alb_method='jin'
!!sea_alb_var_chl=.false.
sea_surf_alg='coare'
sice_heatflux=.true.
soil_sat_down=.true.
srf_ex_cnv_gust=.true.
!!stability_lupkes=.false.
surf_tile_fracs=9*0.0,1.0,0.0
!!swdn_frac_albsoil=0.5
therm_cond_sea=0.5
therm_cond_sice=2.63
therm_cond_sice_snow=0.5
!!u_cdn_hw=55.0
!!u_cdn_max=33.0
unload_rate_u=0.0,2.31e-6,0.0,0.0,0.0
use_hydrology=.true.
use_variable_sst=.false.
z0hm_ratio_nveg=1.0e-7,2.5e-1,2.0e-2,2.0e-1
z0hm_ratio_pft=1.65,1.65,0.1,0.1,0.1
!!z0v=1.1,1.1,0.22,0.22,1.0

[namelist:time]
calendar='timestep'
timestep_end='10'
timestep_start='1'

[namelist:timestepping]
alpha=0.0
dt=1.0
inner_iterations=1
method='semi_implicit'
outer_iterations=1
runge_kutta_method='ssp2'
spinup_alpha=.false.
spinup_period=0.0
spinup_winds=.false.
tau_r=0.0
tau_t=0.0
tau_u=0.0

[namelist:transport]
cfl_control_stab=1.5
consistent_metric=.false.
enforce_monotonicity=.false.
fv_advective_order=0
fv_flux_order=0
log_rho=.false.
log_theta=.false.
oned_reconstruction=.false.
operators='fv'
rho_splitting='none'
scheme='method_of_lines'
theta_splitting='none'
upwind_direction_from_w_at_wtheta=.true.
use_density_predictor=.true.

[namelist:well_mixed_gases]
cfc113_mix_ratio=4.826e-10
cfc11_mix_ratio=1.110e-09
cfc12_mix_ratio=2.187e-09
ch4_mix_ratio=1.006e-06
co2_mix_ratio=6.002e-04
hcfc22_mix_ratio=6.866e-10
hfc134a_mix_ratio=2.536e-10
n2_mix_ratio=0.7553
n2o_mix_ratio=4.945e-07
o2_mix_ratio=0.2314
so2_mix_ratio=0.0
