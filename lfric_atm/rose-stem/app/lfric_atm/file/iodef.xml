<?xml version="1.0" encoding="UTF-8"?>
<simulation> 

  <!-- In this version we have ONE context  -->
  
  
  <context id = "gungho_atm">
  
   <calendar type = "Gregorian" start_date = "2016-01-01 15:00:00" time_origin = "2016-01-01 15:00:00" />

   <axis_definition>
    <axis id="vert_axis_half_levels" name="half_levels"/>
    <axis id="vert_axis_full_levels" name="full_levels"/>   
   </axis_definition>

   <domain_definition>
      <domain id="node" name="Mesh2d_node" nvertex="1"/>
      <domain id="face_half_levels" name="Mesh2d_half_levels" nvertex="4"/>
      <domain id="face_full_levels" name="Mesh2d_full_levels" nvertex="4"/>
      <domain id="edge_half_levels" name="Mesh2d_edge_half_levels" nvertex="2"/>
      <domain id="checkpoint_W0" name="checkpoint_W0" nvertex="1"/>
      <domain id="checkpoint_W1" name="checkpoint_W1" nvertex="1"/>
      <domain id="checkpoint_W2" name="checkpoint_W2" nvertex="1"/>
      <domain id="checkpoint_W3" name="checkpoint_W3" nvertex="1"/>
      <domain id="checkpoint_Wtheta" name="checkpoint_Wtheta" nvertex="1"/>
      <domain id="fd_checkpoint_W3" name="fd_checkpoint_W3" nvertex="1"/>
      <domain id="fd_checkpoint_Wtheta" name="fd_checkpoint_Wtheta" nvertex="1"/>
      <domain id="checkpoint_W3_2D" name="checkpoint_W3_2D" nvertex="1"/>
   </domain_definition>

   <grid_definition>
    <grid id="node_grid">
      <domain domain_ref="node"/>
      <axis axis_ref="vert_axis_full_levels"/>
    </grid>
    <grid id="half_level_face_grid">
      <domain domain_ref="face_half_levels"/>
      <axis axis_ref="vert_axis_half_levels"/>
    </grid>
    <grid id="full_level_face_grid">
      <domain domain_ref="face_full_levels"/>
      <axis axis_ref="vert_axis_full_levels"/>
    </grid>
    <grid id="half_level_edge_grid">
      <domain domain_ref="edge_half_levels"/>
      <axis axis_ref="vert_axis_half_levels"/>
    </grid>
   </grid_definition>

   <field_definition prec="8" >

     <!-- Checkpoint group -->
     <field_group id="checkpoint_fields" freq_op="1ts" operation="once"  enabled=".FALSE." >
       <field id="checkpoint_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" domain_ref="checkpoint_W3" />
       <field id="checkpoint_exner" name="exner" long_name="exner_pressure" unit="1" domain_ref="checkpoint_W3" />
       <field id="checkpoint_u" name="u" long_name="U" unit="m s-1" domain_ref="checkpoint_W2" />
       <field id="checkpoint_m_v" name="m_v" long_name="m_v" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_r" name="m_r" long_name="m_r" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_s" name="m_s" long_name="m_s" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_m_g" name="m_g" long_name="m_g" unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_area_fraction" name="area_fraction" long_name="area_fraction"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_ice_fraction" name="ice_fraction" long_name="ice_fraction"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_liquid_fraction" name="liquid_fraction" long_name="liquid_fraction"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_bulk_fraction" name="bulk_fraction" long_name="bulk_fraction"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_rh_crit_wth" name="rh_crit_wth" long_name="rh_crit_wth"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_cca" name="cca" long_name="convective_cloud_amount"  unit="1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_ccw" name="ccw" long_name="convective_cloud_water"  unit="kg/kg" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_tstar" name="tstar" long_name="tstar"  unit="K" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_zh" name="zh" long_name="zh"  unit="m" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_z0msea" name="z0msea" long_name="z0msea"  unit="m" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_conv_rain" name="conv_rain" long_name="conv_rain"  unit="kg m-2 s-1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_conv_snow" name="conv_snow" long_name="conv_snow"  unit="kg m-2 s-1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_lw_down_surf_rts" name="lw_down_surf_rts" long_name="Surface downward longwave flux" unit="W m-2" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sw_down_surf_rts" name="sw_down_surf_rts" long_name="Surface downward shortwave flux" unit="W m-2" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sw_direct_surf_rts" name="sw_direct_surf_rts" long_name="Surface direct shortwave flux" unit="W m-2" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sw_down_blue_surf_rts" name="sw_down_blue_surf_rts" long_name="Surface downward 0-690nm flux" unit="W m-2" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sw_direct_blue_surf_rts" name="sw_direct_blue_surf_rts" long_name="Surface direct 0-690nm flux" unit="W m-2" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sw_heating_rate_rts" name="sw_heating_rate_rts" long_name="Shortwave heating rate" unit="K s-1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_lw_heating_rate_rts" name="lw_heating_rate_rts" long_name="Longwave heating rate" unit="K s-1" domain_ref="checkpoint_Wtheta" />
       <field id="checkpoint_cos_zenith_angle_rts" name="cos_zenith_angle_rts" long_name="Cosine of the solar zenith angle" unit="1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_lit_fraction_rts" name="lit_fraction_rts" long_name="Sunlit fraction of the timestep" unit="1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_stellar_irradiance_rts" name="stellar_irradiance_rts" long_name="Stellar irradiance" unit="1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_sin_stellar_declination_rts" name="sin_stellar_declination_rts" long_name="Sin stellar declination" unit="1" domain_ref="checkpoint_W3_2D" />
       <field id="checkpoint_stellar_eqn_of_time_rts" name="stellar_eqn_of_time_rts" long_name="Stellar equation of time" unit="1" domain_ref="checkpoint_W3_2D" />
     </field_group>

     <!-- derived fields group -->
     <field_group id="derived_fields" freq_op="1ts" operation="instant" enabled=".TRUE." >
       <field id="w_physics" name="w_physics" long_name="vertical wind on physics points" standard_name="vertical_velocity" unit="ms-1" grid_ref="full_level_face_grid" />
       <field id="w_physics_star" name="w_physics_star" long_name="vertical wind on physics points: physics predictor" standard_name="vertical_velocity" unit="ms-1" grid_ref="full_level_face_grid" />
       <field id="rho_in_wth" name="rho_in_wth" long_name="dry air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="wetrho_in_wth" name="wetrho_in_wth" long_name="wet air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="exner_in_wth" name="exner_in_wth" long_name="Exner pressure on wtheta points" standard_name="air_pressure" unit="1" grid_ref="full_level_face_grid" />
       <field id="theta_star" name="theta_star" long_name="air potential temperature: physics predictor" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />

       <field id="u1_in_w3" name="u1_in_w3" long_name="physics U wind on W3 points" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u2_in_w3" name="u2_in_w3" long_name="physics V wind on W3 points" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u3_in_w3" name="u3_in_w3" long_name="physics W wind on W3 points" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u1_in_w3_star" name="u1_in_w3_star" long_name="physics U wind on W3 points: physics predictor" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u2_in_w3_star" name="u2_in_w3_star" long_name="physics V wind on W3 points: physics predictor" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="u3_in_w3_star" name="u3_in_w3_star" long_name="physics W wind on W3 points: physics predictor" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="theta_in_w3" name="theta_in_w3" long_name="air potential temperature on W3 points" standard_name="air_potential_temperature" unit="K" grid_ref="half_level_face_grid" />
       <field id="wetrho_in_w3" name="wetrho_in_w3" long_name="wet air density on w3 points" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
     </field_group>

     <!-- derived fields group -->
     <field_group id="init_derived_fields" freq_op="1ts" operation="instant" enabled=".TRUE." >
       <field id="init_w_physics" name="w_physics" long_name="vertical wind on physics points" standard_name="vertical_velocity" unit="ms-1" grid_ref="full_level_face_grid" />
       <field id="init_w_physics_star" name="w_physics_star" long_name="vertical wind on physics points: physics predictor" standard_name="vertical_velocity" unit="ms-1" grid_ref="full_level_face_grid" />
       <field id="init_rho_in_wth" name="rho_in_wth" long_name="dry air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="init_wetrho_in_wth" name="wetrho_in_wth" long_name="wet air density on wtheta points" standard_name="air_density" unit="kg m-3" grid_ref="full_level_face_grid" />
       <field id="init_exner_in_wth" name="exner_in_wth" long_name="Exner pressure on wtheta points" standard_name="air_pressure" unit="1" grid_ref="full_level_face_grid" />
       <field id="init_theta_star" name="theta_star" long_name="air potential temperature: physics predictor" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />

       <field id="init_u1_in_w3" name="u1_in_w3" long_name="physics U wind on W3 points" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_u2_in_w3" name="u2_in_w3" long_name="physics V wind on W3 points" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_u3_in_w3" name="u3_in_w3" long_name="physics W wind on W3 points" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_u1_in_w3_star" name="u1_in_w3_star" long_name="physics U wind on W3 points: physics predictor" standard_name="eastward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_u2_in_w3_star" name="u2_in_w3_star" long_name="physics V wind on W3 points: physics predictor" standard_name="northward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_u3_in_w3_star" name="u3_in_w3_star" long_name="physics W wind on W3 points: physics predictor" standard_name="upward_wind" unit="ms-1" grid_ref="half_level_face_grid" />
       <field id="init_theta_in_w3" name="theta_in_w3" long_name="air potential temperature on W3 points" standard_name="air_potential_temperature" unit="K" grid_ref="half_level_face_grid" />
       <field id="init_wetrho_in_w3" name="wetrho_in_w3" long_name="wet air density on w3 points" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
     </field_group>

     <!-- Main diagnostic group -->
     <field_group id="diagnostic_fields" freq_op="1ts" operation="instant" enabled=".TRUE." >
       <field id="theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="dt_bl" name="dt_bl" long_name="BL temperature increment" unit="K" grid_ref="full_level_face_grid" />  
       <field id="dmv_bl" name="dmv_bl" long_name="BL vapour increment" unit="kg/kg" grid_ref="full_level_face_grid" />  
       <field id="dt_conv" name="dt_conv" long_name="Convection temperature increment" unit="K" grid_ref="full_level_face_grid" />  
       <field id="dmv_conv" name="dmv_conv" long_name="Convection vapour increment" unit="kg/kg" grid_ref="full_level_face_grid" />  
       <field id="du_conv" name="du_conv" long_name="u_increment_from_convection" unit="m s-2" grid_ref="half_level_face_grid" />
       <field id="dv_conv" name="dv_conv" long_name="v_increment_from_convection" unit="m s-2" grid_ref="half_level_face_grid" />
       <field id="m_v" name="m_v" long_name="m_v" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_r" name="m_r" long_name="m_r" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_s" name="m_s" long_name="m_s"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="m_g" name="m_g" long_name="m_g"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="area_fraction" name="area_fraction" long_name="area_fraction" unit="1" grid_ref="full_level_face_grid" />
       <field id="ice_fraction" name="ice_fraction" long_name="ice_fraction" unit="1" grid_ref="full_level_face_grid" />
       <field id="liquid_fraction" name="liquid_fraction" long_name="liquid_fraction" unit="1" grid_ref="full_level_face_grid" />
       <field id="bulk_fraction" name="bulk_fraction" long_name="bulk_fraction" unit="1" grid_ref="full_level_face_grid" />
       <field id="rh_crit_wth" name="rh_crit_wth" long_name="rh_crit_wth" unit="1" grid_ref="full_level_face_grid" />
       <field id="cca" name="cca" long_name="convective_cloud_amount" unit="1" grid_ref="full_level_face_grid" />
       <field id="ccw" name="ccw" long_name="convective_cloud_water" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
       <field id="xi1" name="xi1" long_name="Xi1" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="xi2" name="xi2" long_name="Xi2" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="xi3" name="xi3" long_name="Xi3" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="u1" name="u1" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="u2" name="u2" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="u3" name="u3" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" />
       <field id="divergence" name="divergence" long_name="divergence_of_wind" standard_name="divergence_of_wind" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="exner" name="exner" long_name="exner_pressure" unit="1" grid_ref="half_level_face_grid" />
       <field id="dtheta_spectral_gwd" name="dtheta_spectral_gwd" long_name="Spectral gravity wave drag theta increment" unit="K" grid_ref="full_level_face_grid" />
       <field id="du_spectral_gwd" name="du_spectral_gwd" long_name="Spectral gravity wave drag U wind increment" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="dv_spectral_gwd" name="dv_spectral_gwd" long_name="Spectral gravity wave drag V wind increment" unit="m s-1" grid_ref="half_level_face_grid" />
       <field id="dtemp_spectral_gwd" name="dtemp_spectral_gwd" long_name="Spectral gravity wave drag T increment" unit="K" grid_ref="full_level_face_grid" />
       <field id="tstar_brd_leaf" name="tstar_brd_leaf" long_name="Broad leaf tree Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_ndl_leaf" name="tstar_ndl_leaf" long_name="Needle leaf tree Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_c3_grass" name="tstar_c3_grass" long_name="C3 grass Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_c4_grass" name="tstar_c4_grass" long_name="C4 grass Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_shrub" name="tstar_shrub" long_name="Shrub Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_urban" name="tstar_urban" long_name="Urban Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_lake" name="tstar_lake" long_name="Lake Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_soil" name="tstar_soil" long_name="Soil Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_ice" name="tstar_ice" long_name="Ice Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_sea" name="tstar_sea" long_name="Sea Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="tstar_sea_ice" name="tstar_sea_ice" long_name="Sea-ice Surface temperature" unit="K" domain_ref="face_half_levels" />
       <field id="ftl_brd_leaf" name="ftl_brd_leaf" long_name="Broad leaf tree sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_ndl_leaf" name="ftl_ndl_leaf" long_name="Needle leaf tree sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_c3_grass" name="ftl_c3_grass" long_name="C3 grass sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_c4_grass" name="ftl_c4_grass" long_name="C4 grass sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_shrub" name="ftl_shrub" long_name="Shrub sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_urban" name="ftl_urban" long_name="Urban sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_lake" name="ftl_lake" long_name="Lake sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_soil" name="ftl_soil" long_name="Soil sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_ice" name="ftl_ice" long_name="Ice sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_sea" name="ftl_sea" long_name="Sea sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="ftl_sea_ice" name="ftl_sea_ice" long_name="Sea-ice sensible heat flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="fqw_brd_leaf" name="fqw_brd_leaf" long_name="Broad leaf tree moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_ndl_leaf" name="fqw_ndl_leaf" long_name="Needle leaf tree moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_c3_grass" name="fqw_c3_grass" long_name="C3 grass moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_c4_grass" name="fqw_c4_grass" long_name="C4 grass moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_shrub" name="fqw_shrub" long_name="Shrub moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_urban" name="fqw_urban" long_name="Urban moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_lake" name="fqw_lake" long_name="Lake moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_soil" name="fqw_soil" long_name="Soil moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_ice" name="fqw_ice" long_name="Ice moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_sea" name="fqw_sea" long_name="Sea moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="fqw_sea_ice" name="fqw_sea_ice" long_name="Sea-ice moisture flux" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="z0msea" name="z0msea" long_name="Momentum roughness length" unit="m" domain_ref="face_half_levels" />
       <field id="zh" name="zh" long_name="Boundary layer depth" unit="m" domain_ref="face_half_levels" />
       <field id="gross_prim_prod" name="gross_prim_prod" long_name="Gross Primary Productivity" unit="kgC m-2 s-1" domain_ref="face_half_levels" />
       <field id="net_prim_prod" name="net_prim_prod" long_name="Net Primary Productivity" unit="kgC m-2 s-1" domain_ref="face_half_levels" />
       <field id="massflux_up" name="massflux_up" long_name="convection_upward_massflux" unit="Pa s-1" grid_ref="full_level_face_grid" />
       <field id="massflux_down" name="massflux_down" long_name="convection_downward_massflux" unit="Pa s-1" grid_ref="full_level_face_grid" />
       <field id="entrain_up" name="entrain_up" long_name="convection_upward_entrain" unit="1" grid_ref="full_level_face_grid" />
       <field id="entrain_down" name="entrain_down" long_name="convection_downward_entrain" unit="1" grid_ref="full_level_face_grid" />
       <field id="detrain_up" name="detrain_up" long_name="convection_upward_detrain" unit="1" grid_ref="full_level_face_grid" />
       <field id="detrain_down" name="detrain_down" long_name="convection_downward_detrain" unit="1" grid_ref="full_level_face_grid" />
       <field id="dd_dt" name="dd_dt" long_name="temperature_increment_from_downdraughts" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="dd_dq" name="dd_dq" long_name="vapour_increment_from_downdraughts" unit="kg kg-1 s-1" grid_ref="full_level_face_grid" />
       <field id="deep_dt" name="deep_dt" long_name="temperature_increment_from_deep_convection" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="deep_dq" name="deep_dq" long_name="vapour_increment_from_deep_convection" unit="kg kg-1 s-1" grid_ref="full_level_face_grid" />
       <field id="deep_massflux" name="deep_massflux" long_name="massflux_for_deep_convection" unit="Pa s-1" grid_ref="full_level_face_grid" />
       <field id="deep_tops" name="deep_tops" long_name="Frequency_of_deep_terminating_at_level" unit="1" grid_ref="full_level_face_grid" />
       <field id="shallow_dt" name="shallow_dt" long_name="temperature_increment_from_shallow_convection" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="shallow_dq" name="shallow_dq" long_name="vapour_increment_from_shallow_convection" unit="kg kg-1 s-1" grid_ref="full_level_face_grid" />
       <field id="shallow_massflux" name="shallow_massflux" long_name="massflux_for_shallow_convection" unit="Pa s-1" grid_ref="full_level_face_grid" />
       <field id="mid_dt" name="mid_dt" long_name="temperature_increment_from_mid_convection" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="mid_dq" name="mid_dq" long_name="vapour_increment_from_mid_convection" unit="kg kg-1 s-1" grid_ref="full_level_face_grid" />
       <field id="mid_massflux" name="mid_massflux" long_name="massflux_for_mid_convection" unit="Pa s-1" grid_ref="full_level_face_grid" />
       <field id="ntml_2d" name="ntml_2d" long_name="ntml_2d" unit="1" domain_ref="face_half_levels" />
       <field id="cumulus_2d" name="cumulus_2d" long_name="cumulus_2d" unit="1" domain_ref="face_half_levels" />
       <field id="conv_rain" name="conv_rain" long_name="surface_convective_rainfall_rate" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="conv_snow" name="conv_snow" long_name="surface_convective_snowfall_rate" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="deep_in_col" name="deep_in_col" long_name="frequency_of_deep_convection" unit="1" domain_ref="face_half_levels" />
       <field id="shallow_in_col" name="shallow_in_col" long_name="frequency_of_shallow_convection" unit="1" domain_ref="face_half_levels" />
       <field id="mid_in_col" name="mid_in_col" long_name="frequency_of_midlevel_convection" unit="1" domain_ref="face_half_levels" />
       <field id="deep_prec" name="deep_prec" long_name="deep_convective_precipitation_rate" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="shallow_prec" name="shallow_prec" long_name="shallow_convective_precipitation_rate" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="mid_prec" name="mid_prec" long_name="midlevel_convection_precipitation_rate" unit="kg m-2 s-1" domain_ref="face_half_levels" />
       <field id="deep_term" name="deep_term" long_name="termination_level_of_deep_convection" unit="level number" domain_ref="face_half_levels" />
       <field id="cape_timescale" name="cape_timescale" long_name="cape_timescale" unit="s" domain_ref="face_half_levels" />
       <field id="freeze_level" name="freeze_level" long_name="freeze_level" unit="model level" domain_ref="face_half_levels" />
       <field id="lowest_cv_base" name="lowest_cv_base" long_name="lowest_cv_base" unit="model level" domain_ref="face_half_levels" />
       <field id="lowest_cv_top" name="lowest_cv_top" long_name="lowest_cv_top" unit="model level" domain_ref="face_half_levels" />
       <field id="cv_base" name="cv_base" long_name="cv_base" unit="model level" domain_ref="face_half_levels" />
       <field id="cv_top" name="cv_top" long_name="cv_top" unit="model level" domain_ref="face_half_levels" />
       <field id="lw_down_surf" name="lw_down_surf" long_name="Surface downward longwave flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_down_surf" name="sw_down_surf" long_name="Surface downward shortwave flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_direct_surf" name="sw_direct_surf" long_name="Surface direct shortwave flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_down_blue_surf" name="sw_down_blue_surf" long_name="Surface downward 0-690nm flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_direct_blue_surf" name="sw_direct_blue_surf" long_name="Surface direct 0-690nm flux" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_heating_rate" name="sw_heating_rate" long_name="Shortwave heating rate" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="lw_heating_rate" name="lw_heating_rate" long_name="Longwave heating rate" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="cos_zenith_angle" name="cos_zenith_angle" long_name="Cosine of the solar zenith angle" unit="1" domain_ref="face_half_levels" />
       <field id="lit_fraction" name="lit_fraction" long_name="Sunlit fraction of the timestep" unit="1" domain_ref="face_half_levels" />
       <field id="lw_down_surf_rts" name="lw_down_surf_rts" long_name="Surface downward longwave flux (radiative timestep)" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_down_surf_rts" name="sw_down_surf_rts" long_name="Surface downward shortwave flux (radiative timestep)" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_direct_surf_rts" name="sw_direct_surf_rts" long_name="Surface direct shortwave flux (radiative timestep)" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_down_blue_surf_rts" name="sw_down_blue_surf_rts" long_name="Surface downward 0-690nm flux (radiative timestep)" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_direct_blue_surf_rts" name="sw_direct_blue_surf_rts" long_name="Surface direct 0-690nm flux (radiative timestep)" unit="W m-2" domain_ref="face_half_levels" />
       <field id="sw_heating_rate_rts" name="sw_heating_rate_rts" long_name="Shortwave heating rate (radiative timestep)" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="lw_heating_rate_rts" name="lw_heating_rate_rts" long_name="Longwave heating rate (radiative timestep)" unit="K s-1" grid_ref="full_level_face_grid" />
       <field id="cos_zenith_angle_rts" name="cos_zenith_angle_rts" long_name="Cosine of the solar zenith angle (radiative timestep)" unit="1" domain_ref="face_half_levels" />
       <field id="lit_fraction_rts" name="lit_fraction_rts" long_name="Sunlit fraction of the timestep (radiative timestep)" unit="1" domain_ref="face_half_levels" />
       <field id="stellar_irradiance_rts" name="stellar_irradiance_rts" long_name="Stellar irradiance (radiative timestep)" unit="1" domain_ref="face_half_levels" />
     </field_group>

      <!-- Initial conditions group -->
     <field_group id="initial_fields" freq_op="1ts" operation="once" enabled=".TRUE." >
       <field id="init_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" grid_ref="full_level_face_grid" />
       <field id="init_m_v" name="m_v" long_name="m_v" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_r" name="m_r" long_name="m_r" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_s" name="m_s" long_name="m_s"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_m_g" name="m_g" long_name="m_g"  unit="kg/kg" grid_ref="full_level_face_grid" />
       <field id="init_area_fraction" name="area_fraction" long_name="area_fraction"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_ice_fraction" name="ice_fraction" long_name="ice_fraction"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_liquid_fraction" name="liquid_fraction" long_name="liquid_fraction"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_bulk_fraction" name="bulk_fraction" long_name="bulk_fraction"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_rh_crit_wth" name="rh_crit_wth" long_name="rh_crit_wth"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_cca" name="cca" long_name="cca"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_ccw" name="ccw" long_name="ccw"  unit="1" grid_ref="full_level_face_grid" />
       <field id="init_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" grid_ref="half_level_face_grid" />
       <field id="init_xi1" name="xi1" long_name="Xi1" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_xi2" name="xi2" long_name="Xi2" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_xi3" name="xi3" long_name="Xi3" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_u1" name="u1" long_name="eastward_wind" standard_name="eastward_wind"  unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="init_u2" name="u2" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" grid_ref="half_level_edge_grid" />
       <field id="init_u3" name="u3" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" grid_ref="full_level_face_grid" />
       <field id="init_divergence" name="divergence" long_name="divergence_of_wind" standard_name="divergence_of_wind" unit="s-1" grid_ref="half_level_face_grid" />
       <field id="init_exner" name="exner" long_name="exner_pressure" unit="1" grid_ref="half_level_face_grid" />
     </field_group>

     <!-- FD fields group -->
     <field_group id="physics_fd_fields" freq_op="1ts" operation="once"  enabled=".FALSE." >
       <field id="ew_wind_in_w3" name="ew_wind_in_w3" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" domain_ref="fd_checkpoint_W3" />
       <field id="ns_wind_in_w3" name="ns_wind_in_w3" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" domain_ref="fd_checkpoint_W3" />
       <field id="theta_in_wtheta" name="theta_in_wtheta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" domain_ref="fd_checkpoint_Wtheta" />
       <field id="ozone_in_wtheta" name="ozone_in_wtheta" long_name="mass_fraction_of_ozone_in_air" standard_name="mass_fraction_of_ozone_in_air" unit="1" domain_ref="fd_checkpoint_Wtheta" />
       <field id="upward_wind_in_wtheta" name="upward_wind_in_wtheta" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" domain_ref="fd_checkpoint_Wtheta" />
       <field id="dry_rho_in_w3" name="dry_rho_in_w3" long_name="air_density" unit="1" domain_ref="fd_checkpoint_W3" />
       <field id="mv_in_wtheta" name="mv_in_wtheta" long_name="humidity_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta" />
       <field id="mcl_in_wtheta" name="mcl_in_wtheta" long_name="cloud_liquid_water_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta" />
       <field id="mcf_in_wtheta" name="mcf_in_wtheta" long_name="cloud_ice_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta" /> 
       <field id="tstar" name="tstar" long_name="surface_temperature" standard_name="surface_temperature" unit="K" domain_ref="checkpoint_W3_2D" />
     </field_group>
     
   </field_definition>

   <file_definition
      type="one_file"
      par_access="collective"
      time_counter="none">

      <!-- Checkpoint groups -->

      <!-- File definition for checkpoint write -->
      <file id="lfric_checkpoint_write" name="lfric_checkpoint_write" output_freq="1ts" convention="CF" enabled=".FALSE.">
        <field field_ref="checkpoint_theta"/>
        <field field_ref="checkpoint_exner"/>
        <field field_ref="checkpoint_rho"/>
        <field field_ref="checkpoint_u"/>
        <field field_ref="checkpoint_m_v"/>
        <field field_ref="checkpoint_m_cl"/>
        <field field_ref="checkpoint_m_r"/>
        <field field_ref="checkpoint_m_ci"/>
        <field field_ref="checkpoint_m_s"/>
        <field field_ref="checkpoint_m_g"/>
        <field field_ref="checkpoint_area_fraction"/>
        <field field_ref="checkpoint_ice_fraction"/>
        <field field_ref="checkpoint_liquid_fraction"/>
        <field field_ref="checkpoint_bulk_fraction"/>
        <field field_ref="checkpoint_rh_crit_wth"/>
        <field field_ref="checkpoint_cca"/>
        <field field_ref="checkpoint_ccw"/>
        <field field_ref="checkpoint_tstar"/>
        <field field_ref="checkpoint_zh"/>
        <field field_ref="checkpoint_z0msea"/>
        <field field_ref="checkpoint_conv_rain"/>
        <field field_ref="checkpoint_conv_snow"/>
        <field field_ref="checkpoint_lw_down_surf_rts"/>
        <field field_ref="checkpoint_sw_down_surf_rts"/>
        <field field_ref="checkpoint_sw_direct_surf_rts"/>
        <field field_ref="checkpoint_sw_down_blue_surf_rts"/>
        <field field_ref="checkpoint_sw_direct_blue_surf_rts"/>
        <field field_ref="checkpoint_sw_heating_rate_rts"/>
        <field field_ref="checkpoint_lw_heating_rate_rts"/>
        <field field_ref="checkpoint_cos_zenith_angle_rts"/>
        <field field_ref="checkpoint_lit_fraction_rts"/>
        <field field_ref="checkpoint_stellar_irradiance_rts"/>
        <field field_ref="checkpoint_sin_stellar_declination_rts"/>
        <field field_ref="checkpoint_stellar_eqn_of_time_rts"/>
      </file> 
      
       <!-- file definition for checkpoint read -->
      <file id="lfric_checkpoint_read" name="lfric_checkpoint_read" mode="read" output_freq="1ts" cyclic="true" enabled=".FALSE.">
       <field id="restart_theta" name="theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_exner" name="exner" long_name="exner_pressure" unit="1" operation="instant" domain_ref="checkpoint_W3" />
       <field id="restart_rho" name="rho" long_name="air_density" standard_name="air_density" unit="kg m-3" operation="instant" domain_ref="checkpoint_W3" />
       <field id="restart_u" name="u" long_name="U" unit="m s-1" operation="instant" domain_ref="checkpoint_W2" />
       <field id="restart_m_v" name="m_v" long_name="m_v" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_cl" name="m_cl" long_name="m_cl" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_r" name="m_r" long_name="m_r" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_ci" name="m_ci" long_name="m_ci" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_s" name="m_s" long_name="m_s" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_m_g" name="m_g" long_name="m_g" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_area_fraction" name="area_fraction" long_name="area_fraction" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_ice_fraction" name="ice_fraction" long_name="ice_fraction" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_liquid_fraction" name="liquid_fraction" long_name="liquid_fraction" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_bulk_fraction" name="bulk_fraction" long_name="bulk_fraction" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_rh_crit_wth" name="rh_crit_wth" long_name="rh_crit_wth" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_cca" name="cca" long_name="convective_cloud_amount" unit="1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_ccw" name="ccw" long_name="convective_cloud_water" unit="kg/kg" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_tstar" name="tstar" long_name="tstar" unit="K" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_zh" name="zh" long_name="zh" unit="m" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_z0msea" name="z0msea" long_name="z0msea" unit="m" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_conv_rain" name="conv_rain" long_name="conv_rain" unit="kg m-2 s-1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_conv_snow" name="conv_snow" long_name="conv_snow" unit="kg m-2 s-1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_lw_down_surf_rts" name="lw_down_surf_rts" long_name="Surface downward longwave flux" unit="W m-2" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sw_down_surf_rts" name="sw_down_surf_rts" long_name="Surface downward shortwave flux" unit="W m-2" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sw_direct_surf_rts" name="sw_direct_surf_rts" long_name="Surface direct shortwave flux" unit="W m-2" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sw_down_blue_surf_rts" name="sw_down_blue_surf_rts" long_name="Surface downward 0-690nm flux" unit="W m-2" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sw_direct_blue_surf_rts" name="sw_direct_blue_surf_rts" long_name="Surface direct 0-690nm flux" unit="W m-2" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sw_heating_rate_rts" name="sw_heating_rate_rts" long_name="Shortwave heating rate" unit="K s-1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_lw_heating_rate_rts" name="lw_heating_rate_rts" long_name="Longwave heating rate" unit="K s-1" operation="instant" domain_ref="checkpoint_Wtheta" />
       <field id="restart_cos_zenith_angle_rts" name="cos_zenith_angle_rts" long_name="Cosine of the solar zenith angle" unit="1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_lit_fraction_rts" name="lit_fraction_rts" long_name="Sunlit fraction of the timestep" unit="1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_stellar_irradiance_rts" name="stellar_irradiance_rts" long_name="Stellar irradiance" unit="1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_sin_stellar_declination_rts" name="sin_stellar_declination_rts" long_name="Sin stellar declination" unit="1" operation="instant" domain_ref="checkpoint_W3_2D" />
       <field id="restart_stellar_eqn_of_time_rts" name="stellar_eqn_of_time_rts" long_name="Stellar equation of time" unit="1" operation="instant" domain_ref="checkpoint_W3_2D" />
      </file>

      <file id="lfric_diag" name="lfric_diag" output_freq="6h" convention="UGRID" enabled=".TRUE.">
	<field_group group_ref="derived_fields" />
        <field field_ref="theta"/>
        <field field_ref="dt_bl"/>
        <field field_ref="dmv_bl"/>
        <field field_ref="dt_conv"/>
        <field field_ref="dmv_conv"/>
        <field field_ref="du_conv"/>
        <field field_ref="dv_conv"/>
        <field field_ref="m_v"/>
        <field field_ref="m_cl"/>
        <field field_ref="m_r"/>
        <field field_ref="m_ci"/>
        <field field_ref="m_s"/>
        <field field_ref="m_g"/>
        <field field_ref="area_fraction"/>
        <field field_ref="ice_fraction"/>
        <field field_ref="liquid_fraction"/>
        <field field_ref="bulk_fraction"/>
        <field field_ref="rh_crit_wth"/>
        <field field_ref="cca"/>
        <field field_ref="ccw"/>
        <field field_ref="rho"/>
        <field field_ref="xi1"/>
        <field field_ref="xi2"/>
        <field field_ref="xi3"/>
        <field field_ref="u1"/>
        <field field_ref="u2"/>
        <field field_ref="u3"/>
        <field field_ref="divergence"/>
        <field field_ref="exner"/>
        <field field_ref="dtheta_spectral_gwd"/>
        <field field_ref="du_spectral_gwd"/>
        <field field_ref="dv_spectral_gwd"/>
        <field field_ref="dtemp_spectral_gwd"/>
        <field field_ref="tstar_brd_leaf"/>
        <field field_ref="tstar_ndl_leaf"/>
        <field field_ref="tstar_c3_grass"/>
        <field field_ref="tstar_c4_grass"/>
        <field field_ref="tstar_shrub"/>
        <field field_ref="tstar_urban"/>
        <field field_ref="tstar_lake"/>
        <field field_ref="tstar_soil"/>
        <field field_ref="tstar_ice"/>
        <field field_ref="tstar_sea"/>
        <field field_ref="tstar_sea_ice"/>
        <field field_ref="ftl_brd_leaf"/>
        <field field_ref="ftl_ndl_leaf"/>
        <field field_ref="ftl_c3_grass"/>
        <field field_ref="ftl_c4_grass"/>
        <field field_ref="ftl_shrub"/>
        <field field_ref="ftl_urban"/>
        <field field_ref="ftl_lake"/>
        <field field_ref="ftl_soil"/>
        <field field_ref="ftl_ice"/>
        <field field_ref="ftl_sea"/>
        <field field_ref="ftl_sea_ice"/>
        <field field_ref="fqw_brd_leaf"/>
        <field field_ref="fqw_ndl_leaf"/>
        <field field_ref="fqw_c3_grass"/>
        <field field_ref="fqw_c4_grass"/>
        <field field_ref="fqw_shrub"/>
        <field field_ref="fqw_urban"/>
        <field field_ref="fqw_lake"/>
        <field field_ref="fqw_soil"/>
        <field field_ref="fqw_ice"/>
        <field field_ref="fqw_sea"/>
        <field field_ref="fqw_sea_ice"/>
        <field field_ref="z0msea"/>
        <field field_ref="zh"/>
	<field field_ref="gross_prim_prod"/>
	<field field_ref="net_prim_prod"/>
        <field field_ref="massflux_up"/>
        <field field_ref="massflux_down"/>
        <field field_ref="entrain_up"/>
        <field field_ref="entrain_down"/>
        <field field_ref="detrain_up"/>
        <field field_ref="detrain_down"/>
        <field field_ref="dd_dt"/>
        <field field_ref="dd_dq"/>
        <field field_ref="deep_dt"/>
        <field field_ref="deep_dq"/>
        <field field_ref="deep_massflux"/>
        <field field_ref="deep_tops"/>
        <field field_ref="shallow_dt"/>
        <field field_ref="shallow_dq"/>
        <field field_ref="shallow_massflux"/>
        <field field_ref="mid_dt"/>
        <field field_ref="mid_dq"/>
        <field field_ref="mid_massflux"/>
        <field field_ref="ntml_2d"/>
        <field field_ref="cumulus_2d"/>
        <field field_ref="conv_rain"/>
        <field field_ref="conv_snow"/>
        <field field_ref="deep_in_col"/>
        <field field_ref="shallow_in_col"/>
        <field field_ref="mid_in_col"/>
        <field field_ref="deep_prec"/>
        <field field_ref="shallow_prec"/>
        <field field_ref="mid_prec"/>
        <field field_ref="deep_term"/>
        <field field_ref="cape_timescale"/>
        <field field_ref="freeze_level"/>
        <field field_ref="lowest_cv_base"/>
        <field field_ref="lowest_cv_top"/>
        <field field_ref="cv_base"/>
        <field field_ref="cv_top"/>
        <field field_ref="lw_down_surf"/>
        <field field_ref="sw_down_surf"/>
        <field field_ref="sw_direct_surf"/>
        <field field_ref="sw_down_blue_surf"/>
        <field field_ref="sw_direct_blue_surf"/>
        <field field_ref="sw_heating_rate"/>
        <field field_ref="lw_heating_rate"/>
        <field field_ref="cos_zenith_angle"/>
        <field field_ref="lit_fraction"/>
        <field field_ref="lw_down_surf_rts"/>
        <field field_ref="sw_down_surf_rts"/>
        <field field_ref="sw_direct_surf_rts"/>
        <field field_ref="sw_down_blue_surf_rts"/>
        <field field_ref="sw_direct_blue_surf_rts"/>
        <field field_ref="sw_heating_rate_rts"/>
        <field field_ref="lw_heating_rate_rts"/>
        <field field_ref="cos_zenith_angle_rts"/>
        <field field_ref="lit_fraction_rts"/>
        <field field_ref="stellar_irradiance_rts"/>
      </file>

      <file id="lfric_averages" name="lfric_averages" output_freq="12h" convention="UGRID" enabled=".TRUE.">
        <field field_ref="theta" operation="average" />
        <field field_ref="w_physics" operation="average" />
        <field field_ref="u1" operation="average" />
        <field field_ref="u2" operation="average" />
        <field field_ref="u3" operation="average" />
        <field field_ref="divergence" operation="average" />
        <field field_ref="exner" operation="average" />
      </file>

      <file id="lfric_initial" name="lfric_initial" output_freq="1ts" convention="UGRID" enabled=".TRUE.">
        <field field_ref="init_theta"/>
        <field field_ref="init_m_v"/>
        <field field_ref="init_m_cl"/>
        <field field_ref="init_m_r"/>
        <field field_ref="init_m_ci"/>
        <field field_ref="init_m_s"/>
        <field field_ref="init_m_g"/>
        <field field_ref="init_area_fraction"/>
        <field field_ref="init_ice_fraction"/>
        <field field_ref="init_liquid_fraction"/>
        <field field_ref="init_bulk_fraction"/>
        <field field_ref="init_rh_crit_wth"/>
        <field field_ref="init_rho"/>
        <field field_ref="init_xi1"/>
        <field field_ref="init_xi2"/>
        <field field_ref="init_xi3"/>
        <field field_ref="init_u1"/>
        <field field_ref="init_u2"/>
        <field field_ref="init_u3"/>
        <field field_ref="init_divergence"/>
        <field field_ref="init_exner"/>
      </file>

     <!-- File definition for writing an FD dump -->

      <file id="lfric_fd_dump" name="lfric_fd_dump" output_freq="1ts" convention="UGRID" enabled=".FALSE." >
       <field field_ref="ew_wind_in_w3" />
       <field field_ref="ns_wind_in_w3" />
       <field field_ref="theta_in_wtheta" />
       <field field_ref="ozone_in_wtheta" />
       <field field_ref="upward_wind_in_wtheta" />
       <field field_ref="dry_rho_in_w3" />
       <field field_ref="mv_in_wtheta" />
       <field field_ref="mcl_in_wtheta" />
       <field field_ref="mcf_in_wtheta" />
       <field field_ref="tstar" />
      </file>

      <!-- File definition for reading in from a UM2LFRic FD restart dump -->

      <file id="read_lfric_fd_dump" name="lfric_fd_dump" mode="read" output_freq="1ts" convention="CF" cyclic="true" enabled=".FALSE.">
       <field id="read_ew_wind_in_w3" name="fd_ew_wind" long_name="eastward_wind" standard_name="eastward_wind" unit="m s-1" domain_ref="fd_checkpoint_W3"  operation="instant" />
       <field id="read_ns_wind_in_w3" name="fd_ns_wind" long_name="northward_wind" standard_name="northward_wind" unit="m s-1" domain_ref="fd_checkpoint_W3"  operation="instant" />
       <field id="read_theta_in_wtheta" name="fd_theta" long_name="air_potential_temperature" standard_name="air_potential_temperature" unit="K" domain_ref="fd_checkpoint_Wtheta"  operation="instant" />
       <field id="read_ozone_in_wtheta" name="fd_ozone" long_name="mass_fraction_of_ozone_in_air" standard_name="mass_fraction_of_ozone_in_air" unit="1" domain_ref="fd_checkpoint_Wtheta"  operation="instant" />
       <field id="read_upward_wind_in_wtheta" name="fd_upward_wind" long_name="upward_air_velocity" standard_name="upward_air_velocity" unit="m s-1" domain_ref="fd_checkpoint_Wtheta"  operation="instant" />
       <field id="read_dry_rho_in_w3" name="fd_dry_rho" long_name="air_density" unit="1" domain_ref="fd_checkpoint_W3"  operation="instant" />
       <field id="read_mv_in_wtheta" name="fd_mv" long_name="humidity_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta"  operation="instant" />
       <field id="read_mcl_in_wtheta" name="fd_mcl" long_name="cloud_liquid_water_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta"  operation="instant" />
       <field id="read_mcf_in_wtheta" name="fd_mcf" long_name="cloud_ice_mixing_ratio"  unit="1" domain_ref="fd_checkpoint_Wtheta"  operation="instant" /> 
       <field id="read_tstar_2d" name="fd_tstar_2d" long_name="surface_temperature" unit="K" domain_ref="checkpoint_W3_2D"  operation="instant" />
      </file>

    </file_definition>

  </context>

  <context id = "xios">
    <variable_definition>
      <variable_group id = "buffer">
        <variable id = "optimal_buffer_size" type = "string" >performance</variable>
        <variable id = "buffer_factor_size" type = "double" >1.0</variable>
      </variable_group>

      <variable_group id = "parameters" >
        <variable id = "using_server" type = "bool" >true</variable>
        <variable id = "info_level" type = "int" >50</variable>
        <variable id = "print_file" type="bool">true</variable>
      </variable_group>
    </variable_definition>
  </context>

</simulation>
