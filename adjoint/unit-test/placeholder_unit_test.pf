!-----------------------------------------------------------------------------
! (c) Crown copyright 2018 Met Office. All rights reserved.
! The file LICENCE, distributed with this code, contains details of the terms
! under which the code may be used.
!-----------------------------------------------------------------------------
!> This unit test exists solely to prevent errors when running the test-suite.
!-------------------------------------------------------------------------------
module placeholder_unit_test

  ! Global use statements go here

  use constants_mod, only : r_def

  use pFUnit_Mod

  implicit none

  private
  public :: example_test

  ! The test case type, containing procedures to setup, run
  ! and clean up after a test.
  ! It can also contain data.

  @TestCase
  type, extends(TestCase), public :: placeholder_unit_test_type
    private
  contains
    procedure setUp
    procedure tearDown
    procedure example_test
  end type placeholder_unit_test_type

contains

  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !> The setUp subroutine is optional and is called prior to running the test.
  !> It is used to create and initialise types / data that are used in
  !> the tests
  subroutine setUp( this )

    implicit none

    class(placeholder_unit_test_type), intent(inout) :: this

    ! This section should create and initialise anything needed for the test

  end subroutine setUp

  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  !> The tearDown subroutine is optional and called after the test.
  !> It is used to destroy any types / data previously created by setUp()
  subroutine tearDown( this )


    implicit none

    class(placeholder_unit_test_type), intent(inout) :: this

    ! This section should destroy any previously created types / data

  end subroutine tearDown

  !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  ! pfUnit will run each subroutine preceded by the @test line
  @test
  !> A test subroutine. There can be more than one of these.
  subroutine example_test( this )

    ! This section is where the code for a self-contained test should be put

    implicit none

    class(placeholder_unit_test_type), intent(inout) :: this

    real(kind=r_def) :: ans, x
    real(kind=r_def) :: tol

    ans = 0.0_r_def
    tol = 1e-6_r_def

    ! Some code executes, resulting in the assignment
    x = 0.0_r_def

    ! pfUnit supports a range of assertions. This one requires the first
    ! two arguments to be equal to within the range of the third.
    @assertEqual( x, ans, tol )

  end subroutine example_test

end module placeholder_unit_test
